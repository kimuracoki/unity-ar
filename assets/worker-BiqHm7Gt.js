(function(){"use strict";var _i=function(){var s=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(o){o=o||{};var r;r||(r=typeof o<"u"?o:{});var c,f;r.ready=new Promise(function(e,t){c=e,f=t});var n={},g;for(g in r)r.hasOwnProperty(g)&&(n[g]=r[g]);var W="./this.program";function ne(e,t){throw t}var K="",re;K=self.location.href,s&&(K=s),K.indexOf("blob:")!==0?K=K.substr(0,K.lastIndexOf("/")+1):K="",re=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)};var we=r.print||console.log.bind(console),w=r.printErr||console.warn.bind(console);for(g in n)n.hasOwnProperty(g)&&(r[g]=n[g]);n=null,r.thisProgram&&(W=r.thisProgram),r.quit&&(ne=r.quit);function T(e){y||(y={}),y[e]||(y[e]=1,w(e))}var y,E;r.wasmBinary&&(E=r.wasmBinary),r.noExitRuntime,typeof WebAssembly!="object"&&Q("no native wasm support detected");var x,ae=!1;function pe(e,t){e||Q("Assertion failed: "+t)}function B(e){var t=r["_"+e];return pe(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function D(e,t,i,a){var _={string:function(A){var L=0;if(A!=null&&A!==0){var S=(A.length<<2)+1;L=si(S),se(A,J,L,S)}return L},array:function(A){var L=si(A.length);return ee.set(A,L),L}},u=B(e),d=[];if(e=0,a)for(var R=0;R<a.length;R++){var k=_[i[R]];k?(e===0&&(e=_n()),d[R]=k(a[R])):d[R]=a[R]}return i=u.apply(null,d),i=function(A){return t==="string"?te(A):t==="boolean"?!!A:A}(i),e!==0&&cn(e),i}var ce=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function be(e,t,i){var a=t+i;for(i=t;e[i]&&!(i>=a);)++i;if(16<i-t&&e.subarray&&ce)return ce.decode(e.subarray(t,i));for(a="";t<i;){var _=e[t++];if(_&128){var u=e[t++]&63;if((_&224)==192)a+=String.fromCharCode((_&31)<<6|u);else{var d=e[t++]&63;_=(_&240)==224?(_&15)<<12|u<<6|d:(_&7)<<18|u<<12|d<<6|e[t++]&63,65536>_?a+=String.fromCharCode(_):(_-=65536,a+=String.fromCharCode(55296|_>>10,56320|_&1023))}}else a+=String.fromCharCode(_)}return a}function te(e,t){return e?be(J,e,t):""}function se(e,t,i,a){if(!(0<a))return 0;var _=i;a=i+a-1;for(var u=0;u<e.length;++u){var d=e.charCodeAt(u);if(55296<=d&&57343>=d){var R=e.charCodeAt(++u);d=65536+((d&1023)<<10)|R&1023}if(127>=d){if(i>=a)break;t[i++]=d}else{if(2047>=d){if(i+1>=a)break;t[i++]=192|d>>6}else{if(65535>=d){if(i+2>=a)break;t[i++]=224|d>>12}else{if(i+3>=a)break;t[i++]=240|d>>18,t[i++]=128|d>>12&63}t[i++]=128|d>>6&63}t[i++]=128|d&63}}return t[i]=0,i-_}function Fe(e){for(var t=0,i=0;i<e.length;++i){var a=e.charCodeAt(i);55296<=a&&57343>=a&&(a=65536+((a&1023)<<10)|e.charCodeAt(++i)&1023),127>=a?++t:t=2047>=a?t+2:65535>=a?t+3:t+4}return t}function P(e){var t=Fe(e)+1,i=ct(t);return i&&se(e,ee,i,t),i}function Te(e,t){for(var i=0;i<e.length;++i)ee[t++>>0]=e.charCodeAt(i);ee[t>>0]=0}var Be,ee,J,Me,q,m,U,ke,Ie;function He(){var e=x.buffer;Be=e,r.HEAP8=ee=new Int8Array(e),r.HEAP16=Me=new Int16Array(e),r.HEAP32=m=new Int32Array(e),r.HEAPU8=J=new Uint8Array(e),r.HEAPU16=q=new Uint16Array(e),r.HEAPU32=U=new Uint32Array(e),r.HEAPF32=ke=new Float32Array(e),r.HEAPF64=Ie=new Float64Array(e)}var ue,De=[],Ye=[],xe=[],Re=[];function it(){var e=r.preRun.shift();De.unshift(e)}var ze=0,qe=null;function Xe(){ze++,r.monitorRunDependencies&&r.monitorRunDependencies(ze)}function et(){if(ze--,r.monitorRunDependencies&&r.monitorRunDependencies(ze),ze==0&&qe){var e=qe;qe=null,e()}}r.preloadedImages={},r.preloadedAudios={};function Q(e){throw r.onAbort&&r.onAbort(e),w(e),ae=!0,e=new WebAssembly.RuntimeError("abort("+e+"). Build with -s ASSERTIONS=1 for more info."),f(e),e}var Ce="zappar-cv.wasm";if(String.prototype.startsWith?!Ce.startsWith("data:application/octet-stream;base64,"):Ce.indexOf("data:application/octet-stream;base64,")!==0){var tt=Ce;Ce=r.locateFile?r.locateFile(tt,K):K+tt}function je(e){var t=Ce;try{e:{try{if(t==Ce&&E){var i=new Uint8Array(E);break e}if(re){i=re(t);break e}throw"sync fetching of the wasm failed: you can preload it to Module['wasmBinary'] manually, or emcc.py will do that for you when generating HTML (but not JS)"}catch(u){Q(u)}i=void 0}var a=new WebAssembly.Module(i),_=new WebAssembly.Instance(a,e)}catch(u){throw e=u.toString(),w("failed to compile wasm module: "+e),(0<=e.indexOf("imported Memory")||0<=e.indexOf("memory import"))&&w("Memory size incompatibility issues may be due to changing INITIAL_MEMORY at runtime to something too large. Use ALLOW_MEMORY_GROWTH to allow any size memory (and also make sure not to set INITIAL_MEMORY at runtime to something smaller than it was at compile time)."),u}return[_,a]}var V,oe;function Ze(e){for(;0<e.length;){var t=e.shift();if(typeof t=="function")t(r);else{var i=t.vd;typeof i=="number"?t.Oc===void 0?ue.get(i)():ue.get(i)(t.Oc):i(t.Oc===void 0?null:t.Oc)}}}var Ke;Ke=function(){return performance.now()};function he(e,t){if(e===0)e=Date.now();else if(e===1||e===4)e=Ke();else return m[ai()>>2]=28,-1;return m[t>>2]=e/1e3|0,m[t+4>>2]=e%1e3*1e6|0,0}function Ue(e){this.Hc=e-16,this.Md=function(t){m[this.Hc+8>>2]=t},this.Jd=function(t){m[this.Hc+0>>2]=t},this.Kd=function(){m[this.Hc+4>>2]=0},this.Id=function(){ee[this.Hc+12>>0]=0},this.Ld=function(){ee[this.Hc+13>>0]=0},this.yd=function(t,i){this.Md(t),this.Jd(i),this.Kd(),this.Id(),this.Ld()}}function Ve(e,t){for(var i=0,a=e.length-1;0<=a;a--){var _=e[a];_==="."?e.splice(a,1):_===".."?(e.splice(a,1),i++):i&&(e.splice(a,1),i--)}if(t)for(;i;i--)e.unshift("..");return e}function C(e){var t=e.charAt(0)==="/",i=e.substr(-1)==="/";return(e=Ve(e.split("/").filter(function(a){return!!a}),!t).join("/"))||t||(e="."),e&&i&&(e+="/"),(t?"/":"")+e}function X(e){var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],!e&&!t?".":(t&&(t=t.substr(0,t.length-1)),e+t)}function N(e){if(e==="/")return"/";e=C(e),e=e.replace(/\/$/,"");var t=e.lastIndexOf("/");return t===-1?e:e.substr(t+1)}function ie(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}return function(){Q("randomDevice")}}function O(){for(var e="",t=!1,i=arguments.length-1;-1<=i&&!t;i--){if(t=0<=i?arguments[i]:"/",typeof t!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t=t.charAt(0)==="/"}return e=Ve(e.split("/").filter(function(a){return!!a}),!t).join("/"),(t?"/":"")+e||"."}var _e=[];function $(e,t){_e[e]={input:[],wc:[],Gc:t},or(e,Ne)}var Ne={open:function(e){var t=_e[e.node.Lc];if(!t)throw new v(43);e.uc=t,e.seekable=!1},close:function(e){e.uc.Gc.flush(e.uc)},flush:function(e){e.uc.Gc.flush(e.uc)},read:function(e,t,i,a){if(!e.uc||!e.uc.Gc.hd)throw new v(60);for(var _=0,u=0;u<a;u++){try{var d=e.uc.Gc.hd(e.uc)}catch{throw new v(29)}if(d===void 0&&_===0)throw new v(6);if(d==null)break;_++,t[i+u]=d}return _&&(e.node.timestamp=Date.now()),_},write:function(e,t,i,a){if(!e.uc||!e.uc.Gc.$c)throw new v(60);try{for(var _=0;_<a;_++)e.uc.Gc.$c(e.uc,t[i+_])}catch{throw new v(29)}return a&&(e.node.timestamp=Date.now()),_}},fe={hd:function(e){if(!e.input.length){var t=null;if(typeof window<"u"&&typeof window.prompt=="function"?(t=window.prompt("Input: "),t!==null&&(t+=`
`)):typeof readline=="function"&&(t=readline(),t!==null&&(t+=`
`)),!t)return null;e.input=ni(t,!0)}return e.input.shift()},$c:function(e,t){t===null||t===10?(we(be(e.wc,0)),e.wc=[]):t!=0&&e.wc.push(t)},flush:function(e){e.wc&&0<e.wc.length&&(we(be(e.wc,0)),e.wc=[])}},b={$c:function(e,t){t===null||t===10?(w(be(e.wc,0)),e.wc=[]):t!=0&&e.wc.push(t)},flush:function(e){e.wc&&0<e.wc.length&&(w(be(e.wc,0)),e.wc=[])}},l={zc:null,Bc:function(){return l.createNode(null,"/",16895,0)},createNode:function(e,t,i,a){if((i&61440)===24576||(i&61440)===4096)throw new v(63);return l.zc||(l.zc={dir:{node:{yc:l.qc.yc,Ac:l.qc.Ac,Jc:l.qc.Jc,Qc:l.qc.Qc,nd:l.qc.nd,Wc:l.qc.Wc,od:l.qc.od,Rc:l.qc.Rc,Sc:l.qc.Sc},stream:{Ec:l.sc.Ec}},file:{node:{yc:l.qc.yc,Ac:l.qc.Ac},stream:{Ec:l.sc.Ec,read:l.sc.read,write:l.sc.write,cd:l.sc.cd,jd:l.sc.jd,ld:l.sc.ld}},link:{node:{yc:l.qc.yc,Ac:l.qc.Ac,Mc:l.qc.Mc},stream:{}},dd:{node:{yc:l.qc.yc,Ac:l.qc.Ac},stream:Fi}}),i=gt(e,t,i,a),(i.mode&61440)===16384?(i.qc=l.zc.dir.node,i.sc=l.zc.dir.stream,i.rc={}):(i.mode&61440)===32768?(i.qc=l.zc.file.node,i.sc=l.zc.file.stream,i.tc=0,i.rc=null):(i.mode&61440)===40960?(i.qc=l.zc.link.node,i.sc=l.zc.link.stream):(i.mode&61440)===8192&&(i.qc=l.zc.dd.node,i.sc=l.zc.dd.stream),i.timestamp=Date.now(),e&&(e.rc[t]=i,e.timestamp=i.timestamp),i},Yd:function(e){return e.rc?e.rc.subarray?e.rc.subarray(0,e.tc):new Uint8Array(e.rc):new Uint8Array(0)},ed:function(e,t){var i=e.rc?e.rc.length:0;i>=t||(t=Math.max(t,i*(1048576>i?2:1.125)>>>0),i!=0&&(t=Math.max(t,256)),i=e.rc,e.rc=new Uint8Array(t),0<e.tc&&e.rc.set(i.subarray(0,e.tc),0))},Gd:function(e,t){if(e.tc!=t)if(t==0)e.rc=null,e.tc=0;else{var i=e.rc;e.rc=new Uint8Array(t),i&&e.rc.set(i.subarray(0,Math.min(t,e.tc))),e.tc=t}},qc:{yc:function(e){var t={};return t.td=(e.mode&61440)===8192?e.id:1,t.Zc=e.id,t.mode=e.mode,t.Ed=1,t.uid=0,t.wd=0,t.Lc=e.Lc,(e.mode&61440)===16384?t.size=4096:(e.mode&61440)===32768?t.size=e.tc:(e.mode&61440)===40960?t.size=e.link.length:t.size=0,t.pd=new Date(e.timestamp),t.Dd=new Date(e.timestamp),t.sd=new Date(e.timestamp),t.qd=4096,t.rd=Math.ceil(t.size/t.qd),t},Ac:function(e,t){t.mode!==void 0&&(e.mode=t.mode),t.timestamp!==void 0&&(e.timestamp=t.timestamp),t.size!==void 0&&l.Gd(e,t.size)},Jc:function(){throw nt[44]},Qc:function(e,t,i,a){return l.createNode(e,t,i,a)},nd:function(e,t,i){if((e.mode&61440)===16384){try{var a=Le(t,i)}catch{}if(a)for(var _ in a.rc)throw new v(55)}delete e.parent.rc[e.name],e.parent.timestamp=Date.now(),e.name=i,t.rc[i]=e,t.timestamp=e.parent.timestamp,e.parent=t},Wc:function(e,t){delete e.rc[t],e.timestamp=Date.now()},od:function(e,t){var i=Le(e,t),a;for(a in i.rc)throw new v(55);delete e.rc[t],e.timestamp=Date.now()},Rc:function(e){var t=[".",".."],i;for(i in e.rc)e.rc.hasOwnProperty(i)&&t.push(i);return t},Sc:function(e,t,i){return e=l.createNode(e,t,41471,0),e.link=i,e},Mc:function(e){if((e.mode&61440)!==40960)throw new v(28);return e.link}},sc:{read:function(e,t,i,a,_){var u=e.node.rc;if(_>=e.node.tc)return 0;if(e=Math.min(e.node.tc-_,a),8<e&&u.subarray)t.set(u.subarray(_,_+e),i);else for(a=0;a<e;a++)t[i+a]=u[_+a];return e},write:function(e,t,i,a,_,u){if(t.buffer===ee.buffer&&(u=!1),!a)return 0;if(e=e.node,e.timestamp=Date.now(),t.subarray&&(!e.rc||e.rc.subarray)){if(u)return e.rc=t.subarray(i,i+a),e.tc=a;if(e.tc===0&&_===0)return e.rc=t.slice(i,i+a),e.tc=a;if(_+a<=e.tc)return e.rc.set(t.subarray(i,i+a),_),a}if(l.ed(e,_+a),e.rc.subarray&&t.subarray)e.rc.set(t.subarray(i,i+a),_);else for(u=0;u<a;u++)e.rc[_+u]=t[i+u];return e.tc=Math.max(e.tc,_+a),a},Ec:function(e,t,i){if(i===1?t+=e.position:i===2&&(e.node.mode&61440)===32768&&(t+=e.node.tc),0>t)throw new v(28);return t},cd:function(e,t,i){l.ed(e.node,t+i),e.node.tc=Math.max(e.node.tc,t+i)},jd:function(e,t,i,a,_,u){if(t!==0)throw new v(28);if((e.node.mode&61440)!==32768)throw new v(43);if(e=e.node.rc,u&2||e.buffer!==Be){for((0<a||a+i<e.length)&&(e.subarray?e=e.subarray(a,a+i):e=Array.prototype.slice.call(e,a,a+i)),a=!0,u=16384*Math.ceil(i/16384),t=ct(u);i<u;)ee[t+i++]=0;if(i=t,!i)throw new v(48);ee.set(e,i)}else a=!1,i=e.byteOffset;return{Hc:i,Ud:a}},ld:function(e,t,i,a,_){if((e.node.mode&61440)!==32768)throw new v(43);return _&2||l.sc.write(e,t,0,a,i,!1),0}}},z=null,I={},j=[],Ge=1,de=null,Oe=!0,me={},v=null,nt={};function ve(e,t){if(e=O("/",e),t=t||{},!e)return{path:"",node:null};var i={fd:!0,ad:0},a;for(a in i)t[a]===void 0&&(t[a]=i[a]);if(8<t.ad)throw new v(32);e=Ve(e.split("/").filter(function(d){return!!d}),!1);var _=z;for(i="/",a=0;a<e.length;a++){var u=a===e.length-1;if(u&&t.parent)break;if(_=Le(_,e[a]),i=C(i+"/"+e[a]),_.Kc&&(!u||u&&t.fd)&&(_=_.Kc.root),!u||t.Pc){for(u=0;(_.mode&61440)===40960;)if(_=Mi(i),i=O(X(i),_),_=ve(i,{ad:t.ad}).node,40<u++)throw new v(32)}}return{path:i,node:_}}function at(e){for(var t;;){if(e===e.parent)return e=e.Bc.kd,t?e[e.length-1]!=="/"?e+"/"+t:e+t:e;t=t?e.name+"/"+t:e.name,e=e.parent}}function rt(e,t){for(var i=0,a=0;a<t.length;a++)i=(i<<5)-i+t.charCodeAt(a)|0;return(e+i>>>0)%de.length}function Le(e,t){var i;if(i=(i=st(e,"x"))?i:e.qc.Jc?0:2)throw new v(i,e);for(i=de[rt(e.id,t)];i;i=i.Fc){var a=i.name;if(i.parent.id===e.id&&a===t)return i}return e.qc.Jc(e,t)}function gt(e,t,i,a){return e=new ii(e,t,i,a),t=rt(e.parent.id,e.name),e.Fc=de[t],de[t]=e}var Bt={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090};function yt(e){var t=["r","w","rw"][e&3];return e&512&&(t+="w"),t}function st(e,t){if(Oe)return 0;if(t.indexOf("r")===-1||e.mode&292){if(t.indexOf("w")!==-1&&!(e.mode&146)||t.indexOf("x")!==-1&&!(e.mode&73))return 2}else return 2;return 0}function vt(e,t){try{return Le(e,t),20}catch{}return st(e,"wx")}function Br(e){var t=4096;for(e=e||0;e<=t;e++)if(!j[e])return e;throw new v(33)}function Dr(e,t){Vt||(Vt=function(){},Vt.prototype={});var i=new Vt,a;for(a in e)i[a]=e[a];return e=i,t=Br(t),e.Cc=t,j[t]=e}var Fi={open:function(e){e.sc=I[e.node.Lc].sc,e.sc.open&&e.sc.open(e)},Ec:function(){throw new v(70)}};function or(e,t){I[e]={sc:t}}function Cr(e,t){var i=t==="/",a=!t;if(i&&z)throw new v(10);if(!i&&!a){var _=ve(t,{fd:!1});if(t=_.path,_=_.node,_.Kc)throw new v(10);if((_.mode&61440)!==16384)throw new v(54)}t={type:e,be:{},kd:t,Cd:[]},e=e.Bc(t),e.Bc=t,t.root=e,i?z=e:_&&(_.Kc=t,_.Bc&&_.Bc.Cd.push(t))}function _r(e,t,i){var a=ve(e,{parent:!0}).node;if(e=N(e),!e||e==="."||e==="..")throw new v(28);var _=vt(a,e);if(_)throw new v(_);if(!a.qc.Qc)throw new v(63);return a.qc.Qc(a,e,t,i)}function Je(e){return _r(e,16895,0)}function Dt(e,t,i){typeof i>"u"&&(i=t,t=438),_r(e,t|8192,i)}function Ct(e,t){if(!O(e))throw new v(44);var i=ve(t,{parent:!0}).node;if(!i)throw new v(44);t=N(t);var a=vt(i,t);if(a)throw new v(a);if(!i.qc.Sc)throw new v(63);i.qc.Sc(i,t,e)}function Mi(e){if(e=ve(e).node,!e)throw new v(44);if(!e.qc.Mc)throw new v(28);return O(at(e.parent),e.qc.Mc(e))}function Ur(e,t){if(e=ve(e,{Pc:!t}).node,!e)throw new v(44);if(!e.qc.yc)throw new v(63);return e.qc.yc(e)}function Ii(e){return Ur(e,!0)}function Et(e,t,i,a){if(e==="")throw new v(44);if(typeof t=="string"){var _=Bt[t];if(typeof _>"u")throw Error("Unknown file open mode: "+t);t=_}if(i=t&64?(typeof i>"u"?438:i)&4095|32768:0,typeof e=="object")var u=e;else{e=C(e);try{u=ve(e,{Pc:!(t&131072)}).node}catch{}}if(_=!1,t&64)if(u){if(t&128)throw new v(20)}else u=_r(e,i,0),_=!0;if(!u)throw new v(44);if((u.mode&61440)===8192&&(t&=-513),t&65536&&(u.mode&61440)!==16384)throw new v(54);if(!_&&(i=u?(u.mode&61440)===40960?32:(u.mode&61440)===16384&&(yt(t)!=="r"||t&512)?31:st(u,yt(t)):44))throw new v(i);if(t&512){if(i=u,i=typeof i=="string"?ve(i,{Pc:!0}).node:i,!i.qc.Ac)throw new v(63);if((i.mode&61440)===16384)throw new v(31);if((i.mode&61440)!==32768)throw new v(28);if(_=st(i,"w"))throw new v(_);i.qc.Ac(i,{size:0,timestamp:Date.now()})}t&=-131713,a=Dr({node:u,path:at(u),flags:t,seekable:!0,position:0,sc:u.sc,Rd:[],error:!1},a),a.sc.open&&a.sc.open(a),!r.logReadFiles||t&1||(Nt||(Nt={}),e in Nt||(Nt[e]=1,w("FS.trackingDelegate error on read file: "+e)));try{me.onOpenFile&&(u=0,(t&2097155)!==1&&(u|=1),(t&2097155)!==0&&(u|=2),me.onOpenFile(e,u))}catch(d){w("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+d.message)}return a}function Ut(e,t,i){if(e.Cc===null)throw new v(8);if(!e.seekable||!e.sc.Ec)throw new v(70);if(i!=0&&i!=1&&i!=2)throw new v(28);return e.position=e.sc.Ec(e,t,i),e.Rd=[],e.position}function Vr(){v||(v=function(e,t){this.node=t,this.Hd=function(i){this.vc=i},this.Hd(e),this.message="FS error"},v.prototype=Error(),v.prototype.constructor=v,[44].forEach(function(e){nt[e]=new v(e),nt[e].stack="<generic error, no stack>"}))}var Nr;function Oi(e,t){var i=0;return e&&(i|=365),t&&(i|=146),i}function At(e,t,i){e=C("/dev/"+e);var a=Oi(!!t,!!i);cr||(cr=64);var _=cr++<<8|0;or(_,{open:function(u){u.seekable=!1},close:function(){i&&i.buffer&&i.buffer.length&&i(10)},read:function(u,d,R,k){for(var A=0,L=0;L<k;L++){try{var S=t()}catch{throw new v(29)}if(S===void 0&&A===0)throw new v(6);if(S==null)break;A++,d[R+L]=S}return A&&(u.node.timestamp=Date.now()),A},write:function(u,d,R,k){for(var A=0;A<k;A++)try{i(d[R+A])}catch{throw new v(29)}return k&&(u.node.timestamp=Date.now()),A}}),Dt(e,a,_)}var cr,ge={},Vt,Nt;function Gr(e,t,i){try{var a=e(t)}catch(_){if(_&&_.node&&C(t)!==C(at(_.node)))return-54;throw _}return m[i>>2]=a.td,m[i+4>>2]=0,m[i+8>>2]=a.Zc,m[i+12>>2]=a.mode,m[i+16>>2]=a.Ed,m[i+20>>2]=a.uid,m[i+24>>2]=a.wd,m[i+28>>2]=a.Lc,m[i+32>>2]=0,oe=[a.size>>>0,(V=a.size,1<=+Math.abs(V)?0<V?(Math.min(+Math.floor(V/4294967296),4294967295)|0)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],m[i+40>>2]=oe[0],m[i+44>>2]=oe[1],m[i+48>>2]=4096,m[i+52>>2]=a.rd,m[i+56>>2]=a.pd.getTime()/1e3|0,m[i+60>>2]=0,m[i+64>>2]=a.Dd.getTime()/1e3|0,m[i+68>>2]=0,m[i+72>>2]=a.sd.getTime()/1e3|0,m[i+76>>2]=0,oe=[a.Zc>>>0,(V=a.Zc,1<=+Math.abs(V)?0<V?(Math.min(+Math.floor(V/4294967296),4294967295)|0)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],m[i+80>>2]=oe[0],m[i+84>>2]=oe[1],0}var Tt=void 0;function pt(){return Tt+=4,m[Tt-4>>2]}function ot(e){if(e=j[e],!e)throw new v(8);return e}function Pi(e,t){if(Wt=e,Ht=t,xt){if(e==0)_t=function(){var a=Math.max(0,Hr+t-Ke())|0;setTimeout(Rt,a)};else if(e==1)_t=function(){fr(Rt)};else if(e==2){if(typeof setImmediate>"u"){var i=[];addEventListener("message",function(a){(a.data==="setimmediate"||a.data.target==="setimmediate")&&(a.stopPropagation(),i.shift()())},!0),setImmediate=function(a){i.push(a),r.setImmediates===void 0&&(r.setImmediates=[]),r.setImmediates.push(a),postMessage({target:"setimmediate"})}}_t=function(){setImmediate(Rt)}}}}function Si(e){function t(){return!(i<Gt)}pe(!xt,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),xt=e;var i=Gt;Rt=function(){if(!ae)if(0<Wr.length){var a=Date.now(),_=Wr.shift();_.vd(_.Oc);var u;console.log('main loop blocker "'+_.name+'" took '+(Date.now()-a)+" ms"),r.setStatus&&(a=r.statusMessage||"Please wait...",_=Di,u=Bi.Xd,_?_<u?r.setStatus(a+" ("+(u-_)+"/"+u+")"):r.setStatus(a):r.setStatus("")),t()&&setTimeout(Rt,0)}else t()&&(ur=ur+1|0,Wt==1&&1<Ht&&ur%Ht!=0?_t():(Wt==0&&(Hr=Ke()),ae||r.preMainLoop&&r.preMainLoop()===!1||(Qe(e),r.postMainLoop&&r.postMainLoop()),t()&&(typeof SDL=="object"&&SDL.audio&&SDL.audio.Fd&&SDL.audio.Fd(),_t())))}}function Qe(e){try{e()}catch(t){if(!(t instanceof oi)&&t!=="unwind")throw t&&typeof t=="object"&&t.stack&&w("exception thrown: "+[t,t.stack]),t}}var _t=null,Gt=0,xt=null,Wt=0,Ht=0,ur=0,Wr=[],Bi={},Hr,Rt,Di,kt=!1,Yr=!1,Ci=[];function Ui(){function e(){Yr=document.pointerLockElement===r.canvas||document.mozPointerLockElement===r.canvas||document.webkitPointerLockElement===r.canvas||document.msPointerLockElement===r.canvas}if(r.preloadPlugins||(r.preloadPlugins=[]),!jr){jr=!0;try{Ft=!0}catch{Ft=!1,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}Zr=typeof MozBlobBuilder<"u"?MozBlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:Ft?null:console.log("warning: no BlobBuilder"),Mt=typeof window<"u"?window.URL?window.URL:window.webkitURL:void 0,r.md||typeof Mt<"u"||(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),r.md=!0),r.preloadPlugins.push({canHandle:function(i){return!r.md&&/\.(jpg|jpeg|png|bmp)$/i.test(i)},handle:function(i,a,_,u){var d=null;if(Ft)try{d=new Blob([i],{type:lr(a)}),d.size!==i.length&&(d=new Blob([new Uint8Array(i).buffer],{type:lr(a)}))}catch(A){T("Blob constructor present but fails: "+A+"; falling back to blob builder")}d||(d=new Zr,d.append(new Uint8Array(i).buffer),d=d.getBlob());var R=Mt.createObjectURL(d),k=new Image;k.onload=function(){pe(k.complete,"Image "+a+" could not be decoded");var A=document.createElement("canvas");A.width=k.width,A.height=k.height,A.getContext("2d").drawImage(k,0,0),r.preloadedImages[a]=A,Mt.revokeObjectURL(R),_&&_(i)},k.onerror=function(){console.log("Image "+R+" could not be decoded"),u&&u()},k.src=R}}),r.preloadPlugins.push({canHandle:function(i){return!r.ae&&i.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(i,a,_,u){function d(S){k||(k=!0,r.preloadedAudios[a]=S,_&&_(i))}function R(){k||(k=!0,r.preloadedAudios[a]=new Audio,u&&u())}var k=!1;if(Ft){try{var A=new Blob([i],{type:lr(a)})}catch{return R()}A=Mt.createObjectURL(A);var L=new Audio;L.addEventListener("canplaythrough",function(){d(L)},!1),L.onerror=function(){if(!k){console.log("warning: browser could not fully decode audio "+a+", trying slower base64 approach");for(var S="",Y=0,p=0,F=0;F<i.length;F++)for(Y=Y<<8|i[F],p+=8;6<=p;){var G=Y>>p-6&63;p-=6,S+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[G]}p==2?(S+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(Y&3)<<4],S+="=="):p==4&&(S+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(Y&15)<<2],S+="="),L.src="data:audio/x-"+a.substr(-3)+";base64,"+S,d(L)}},L.src=A,Xr(function(){d(L)},1e4)}else return R()}});var t=r.canvas;t&&(t.requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock||t.msRequestPointerLock||function(){},t.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},t.exitPointerLock=t.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",e,!1),document.addEventListener("mozpointerlockchange",e,!1),document.addEventListener("webkitpointerlockchange",e,!1),document.addEventListener("mspointerlockchange",e,!1),r.elementPointerLock&&t.addEventListener("click",function(i){!Yr&&r.canvas.requestPointerLock&&(r.canvas.requestPointerLock(),i.preventDefault())},!1))}}function Vi(e,t,i,a){if(t&&r.Yc&&e==r.canvas)return r.Yc;var _;if(t){var u={antialias:!1,alpha:!1,Bd:1};if(a)for(var d in a)u[d]=a[d];if(typeof en<"u"&&(_=Ji(e,u)))var R=qt[_].Xc}else R=e.getContext("2d");return R?(i&&(t||pe(typeof ht>"u","cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),r.Yc=R,t&&(Xt=qt[_],r.Yc=ht=Xt&&Xt.Xc),r.ee=t,Ci.forEach(function(k){k()}),Ui()),R):null}var qr=!1,Yt=void 0,dt=void 0;function Ni(e,t){function i(){kt=!1;var u=a.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===u?(a.exitFullscreen=Gi,Yt&&a.requestPointerLock(),kt=!0,dt?(typeof SDL<"u"&&(m[SDL.screen>>2]=U[SDL.screen>>2]|8388608),Lt(r.canvas),pr()):Lt(a)):(u.parentNode.insertBefore(a,u),u.parentNode.removeChild(u),dt?(typeof SDL<"u"&&(m[SDL.screen>>2]=U[SDL.screen>>2]&-8388609),Lt(r.canvas),pr()):Lt(a)),r.onFullScreen&&r.onFullScreen(kt),r.onFullscreen&&r.onFullscreen(kt)}Yt=e,dt=t,typeof Yt>"u"&&(Yt=!0),typeof dt>"u"&&(dt=!1);var a=r.canvas;qr||(qr=!0,document.addEventListener("fullscreenchange",i,!1),document.addEventListener("mozfullscreenchange",i,!1),document.addEventListener("webkitfullscreenchange",i,!1),document.addEventListener("MSFullscreenChange",i,!1));var _=document.createElement("div");a.parentNode.insertBefore(_,a),_.appendChild(a),_.requestFullscreen=_.requestFullscreen||_.mozRequestFullScreen||_.msRequestFullscreen||(_.webkitRequestFullscreen?function(){_.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(_.webkitRequestFullScreen?function(){_.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),_.requestFullscreen()}function Gi(){return kt?((document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){}).apply(document,[]),!0):!1}var zt=0;function fr(e){if(typeof requestAnimationFrame=="function")requestAnimationFrame(e);else{var t=Date.now();if(zt===0)zt=t+16.666666666666668;else for(;t+2>=zt;)zt+=16.666666666666668;setTimeout(e,Math.max(zt-t,0))}}function Wi(e){fr(function(){Qe(e)})}function Xr(e,t){setTimeout(function(){Qe(e)},t)}function lr(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]}var Hi=[];function pr(){var e=r.canvas;Hi.forEach(function(t){t(e.width,e.height)})}function Lt(e,t,i){t&&i?(e.Sd=t,e.xd=i):(t=e.Sd,i=e.xd);var a=t,_=i;if(r.forcedAspectRatio&&0<r.forcedAspectRatio&&(a/_<r.forcedAspectRatio?a=Math.round(_*r.forcedAspectRatio):_=Math.round(a/r.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&typeof screen<"u"){var u=Math.min(screen.width/a,screen.height/_);a=Math.round(a*u),_=Math.round(_*u)}dt?(e.width!=a&&(e.width=a),e.height!=_&&(e.height=_),typeof e.style<"u"&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=t&&(e.width=t),e.height!=i&&(e.height=i),typeof e.style<"u"&&(a!=t||_!=i?(e.style.setProperty("width",a+"px","important"),e.style.setProperty("height",_+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))}var jr,Ft,Zr,Mt;function Kr(){return!1}r._emscripten_is_main_browser_thread=Kr;var dr=[];function Ee(e,t){U[e>>2]=t,U[e+4>>2]=t/4294967296|0}var It;function hr(e,t,i,a,_){function u(H){var Ae=0,ye=0;H&&(ye=M.response?M.response.byteLength:0,Ae=ct(ye),J.set(new Uint8Array(M.response),Ae)),U[e+12>>2]=Ae,Ee(e+16,ye)}var d=U[e+8>>2];if(d){var R=te(d),k=e+112,A=te(k);A||(A="GET");var L=U[k+52>>2],S=U[k+56>>2],Y=!!U[k+60>>2],p=U[k+68>>2],F=U[k+72>>2];d=U[k+76>>2];var G=U[k+80>>2],le=U[k+84>>2];k=U[k+88>>2];var We=!!(L&1),$e=!!(L&2);L=!!(L&64),p=p?te(p):void 0,F=F?te(F):void 0;var er=G?te(G):void 0,M=new XMLHttpRequest;if(M.withCredentials=Y,M.open(A,R,!L,p,F),L||(M.timeout=S),M.ce=R,M.responseType="arraybuffer",G&&M.overrideMimeType(er),d)for(;A=U[d>>2],!(!A||(R=U[d+4>>2],!R));)d+=8,A=te(A),R=te(R),M.setRequestHeader(A,R);dr.push(M),U[e+0>>2]=dr.length,d=le&&k?J.slice(le,le+k):null,M.onload=function(H){u(We&&!$e);var Ae=M.response?M.response.byteLength:0;Ee(e+24,0),Ae&&Ee(e+32,Ae),q[e+40>>1]=M.readyState,q[e+42>>1]=M.status,M.statusText&&se(M.statusText,J,e+44,64),200<=M.status&&300>M.status?t&&t(e,M,H):i&&i(e,M,H)},M.onerror=function(H){u(We);var Ae=M.status;Ee(e+24,0),Ee(e+32,M.response?M.response.byteLength:0),q[e+40>>1]=M.readyState,q[e+42>>1]=Ae,i&&i(e,M,H)},M.ontimeout=function(H){i&&i(e,M,H)},M.onprogress=function(H){var Ae=We&&$e&&M.response?M.response.byteLength:0,ye=0;We&&$e&&(ye=ct(Ae),J.set(new Uint8Array(M.response),ye)),U[e+12>>2]=ye,Ee(e+16,Ae),Ee(e+24,H.loaded-Ae),Ee(e+32,H.total),q[e+40>>1]=M.readyState,3<=M.readyState&&M.status===0&&0<H.loaded&&(M.status=200),q[e+42>>1]=M.status,M.statusText&&se(M.statusText,J,e+44,64),a&&a(e,M,H),ye&&an(ye)},M.onreadystatechange=function(H){q[e+40>>1]=M.readyState,2<=M.readyState&&(q[e+42>>1]=M.status),_&&_(e,M,H)};try{M.send(d)}catch(H){i&&i(e,M,H)}}else i(e,0,"no url specified!")}function Jr(e,t,i,a){var _=It;if(_){var u=U[e+112+64>>2];u||(u=U[e+8>>2]);var d=te(u);try{var R=_.transaction(["FILES"],"readwrite").objectStore("FILES").put(t,d);R.onsuccess=function(){q[e+40>>1]=4,q[e+42>>1]=200,se("OK",J,e+44,64),i(e,0,d)},R.onerror=function(k){q[e+40>>1]=4,q[e+42>>1]=413,se("Payload Too Large",J,e+44,64),a(e,0,k)}}catch(k){a(e,0,k)}}else a(e,0,"IndexedDB not available!")}function Yi(e,t,i){var a=It;if(a){var _=U[e+112+64>>2];_||(_=U[e+8>>2]),_=te(_);try{var u=a.transaction(["FILES"],"readonly").objectStore("FILES").get(_);u.onsuccess=function(d){if(d.target.result){d=d.target.result;var R=d.byteLength||d.length,k=ct(R);J.set(new Uint8Array(d),k),U[e+12>>2]=k,Ee(e+16,R),Ee(e+24,0),Ee(e+32,R),q[e+40>>1]=4,q[e+42>>1]=200,se("OK",J,e+44,64),t(e,0,d)}else q[e+40>>1]=4,q[e+42>>1]=404,se("Not Found",J,e+44,64),i(e,0,"no data")},u.onerror=function(d){q[e+40>>1]=4,q[e+42>>1]=404,se("Not Found",J,e+44,64),i(e,0,d)}}catch(d){i(e,0,d)}}else i(e,0,"IndexedDB not available!")}function qi(e,t,i){var a=It;if(a){var _=U[e+112+64>>2];_||(_=U[e+8>>2]),_=te(_);try{var u=a.transaction(["FILES"],"readwrite").objectStore("FILES").delete(_);u.onsuccess=function(d){d=d.target.result,U[e+12>>2]=0,Ee(e+16,0),Ee(e+24,0),Ee(e+32,0),q[e+40>>1]=4,q[e+42>>1]=200,se("OK",J,e+44,64),t(e,0,d)},u.onerror=function(d){q[e+40>>1]=4,q[e+42>>1]=404,se("Not Found",J,e+44,64),i(e,0,d)}}catch(d){i(e,0,d)}}else i(e,0,"IndexedDB not available!")}var Qr={};function $r(){if(!mr){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:W||"./this.program"},t;for(t in Qr)e[t]=Qr[t];var i=[];for(t in e)i.push(t+"="+e[t]);mr=i}return mr}var mr;function Xi(e){var t=e.getExtension("ANGLE_instanced_arrays");t&&(e.vertexAttribDivisor=function(i,a){t.vertexAttribDivisorANGLE(i,a)},e.drawArraysInstanced=function(i,a,_,u){t.drawArraysInstancedANGLE(i,a,_,u)},e.drawElementsInstanced=function(i,a,_,u,d){t.drawElementsInstancedANGLE(i,a,_,u,d)})}function ji(e){var t=e.getExtension("OES_vertex_array_object");t&&(e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(i){t.deleteVertexArrayOES(i)},e.bindVertexArray=function(i){t.bindVertexArrayOES(i)},e.isVertexArray=function(i){return t.isVertexArrayOES(i)})}function Zi(e){var t=e.getExtension("WEBGL_draw_buffers");t&&(e.drawBuffers=function(i,a){t.drawBuffersWEBGL(i,a)})}var Ki=1,wr=[],qt=[];function ei(e){for(var t=Ki++,i=e.length;i<t;i++)e[i]=null;return t}function Ji(e,t){e.gd||(e.gd=e.getContext,e.getContext=function(a,_){return _=e.gd(a,_),a=="webgl"==_ instanceof WebGLRenderingContext?_:null});var i=e.getContext("webgl",t);return i?Qi(i,t):0}function Qi(e,t){var i=ei(qt),a={Zd:i,attributes:t,version:t.Bd,Xc:e};return e.canvas&&(e.canvas.Td=a),qt[i]=a,(typeof t.ud>"u"||t.ud)&&$i(a),i}function $i(e){if(e||(e=Xt),!e.zd){e.zd=!0;var t=e.Xc;Xi(t),ji(t),Zi(t),t.Wd=t.getExtension("EXT_disjoint_timer_query"),t.$d=t.getExtension("WEBGL_multi_draw"),(t.getSupportedExtensions()||[]).forEach(function(i){0>i.indexOf("lose_context")&&0>i.indexOf("debug")&&t.getExtension(i)})}}var en={},ti,Xt;function jt(e,t){return e=new Date(1e3*m[e>>2]),m[t>>2]=e.getUTCSeconds(),m[t+4>>2]=e.getUTCMinutes(),m[t+8>>2]=e.getUTCHours(),m[t+12>>2]=e.getUTCDate(),m[t+16>>2]=e.getUTCMonth(),m[t+20>>2]=e.getUTCFullYear()-1900,m[t+24>>2]=e.getUTCDay(),m[t+36>>2]=0,m[t+32>>2]=0,m[t+28>>2]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,jt.bd||(jt.bd=P("GMT")),m[t+40>>2]=jt.bd,t}function tn(){function e(d){return(d=d.toTimeString().match(/\(([A-Za-z ]+)\)$/))?d[1]:"GMT"}if(!ri){ri=!0;var t=new Date().getFullYear(),i=new Date(t,0,1),a=new Date(t,6,1);t=i.getTimezoneOffset();var _=a.getTimezoneOffset(),u=Math.max(t,_);m[on()>>2]=60*u,m[sn()>>2]=+(t!=_),i=e(i),a=e(a),i=P(i),a=P(a),_<t?(m[Ot()>>2]=i,m[Ot()+4>>2]=a):(m[Ot()>>2]=a,m[Ot()+4>>2]=i)}}var ri;function Zt(e){return e%4===0&&(e%100!==0||e%400===0)}function br(e,t){for(var i=0,a=0;a<=t;i+=e[a++]);return i}var Kt=[31,29,31,30,31,30,31,31,30,31,30,31],Jt=[31,28,31,30,31,30,31,31,30,31,30,31];function Qt(e,t){for(e=new Date(e.getTime());0<t;){var i=e.getMonth(),a=(Zt(e.getFullYear())?Kt:Jt)[i];if(t>a-e.getDate())t-=a-e.getDate()+1,e.setDate(1),11>i?e.setMonth(i+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1));else{e.setDate(e.getDate()+t);break}}return e}function rn(e,t,i,a){function _(p,F,G){for(p=typeof p=="number"?p.toString():p||"";p.length<F;)p=G[0]+p;return p}function u(p,F){return _(p,F,"0")}function d(p,F){function G(We){return 0>We?-1:0<We?1:0}var le;return(le=G(p.getFullYear()-F.getFullYear()))===0&&(le=G(p.getMonth()-F.getMonth()))===0&&(le=G(p.getDate()-F.getDate())),le}function R(p){switch(p.getDay()){case 0:return new Date(p.getFullYear()-1,11,29);case 1:return p;case 2:return new Date(p.getFullYear(),0,3);case 3:return new Date(p.getFullYear(),0,2);case 4:return new Date(p.getFullYear(),0,1);case 5:return new Date(p.getFullYear()-1,11,31);case 6:return new Date(p.getFullYear()-1,11,30)}}function k(p){p=Qt(new Date(p.xc+1900,0,1),p.Vc);var F=new Date(p.getFullYear()+1,0,4),G=R(new Date(p.getFullYear(),0,4));return F=R(F),0>=d(G,p)?0>=d(F,p)?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}var A=m[a+40>>2];a={Pd:m[a>>2],Od:m[a+4>>2],Tc:m[a+8>>2],Nc:m[a+12>>2],Ic:m[a+16>>2],xc:m[a+20>>2],Uc:m[a+24>>2],Vc:m[a+28>>2],de:m[a+32>>2],Nd:m[a+36>>2],Qd:A?te(A):""},i=te(i),A={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var L in A)i=i.replace(new RegExp(L,"g"),A[L]);var S="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Y="January February March April May June July August September October November December".split(" ");A={"%a":function(p){return S[p.Uc].substring(0,3)},"%A":function(p){return S[p.Uc]},"%b":function(p){return Y[p.Ic].substring(0,3)},"%B":function(p){return Y[p.Ic]},"%C":function(p){return u((p.xc+1900)/100|0,2)},"%d":function(p){return u(p.Nc,2)},"%e":function(p){return _(p.Nc,2," ")},"%g":function(p){return k(p).toString().substring(2)},"%G":function(p){return k(p)},"%H":function(p){return u(p.Tc,2)},"%I":function(p){return p=p.Tc,p==0?p=12:12<p&&(p-=12),u(p,2)},"%j":function(p){return u(p.Nc+br(Zt(p.xc+1900)?Kt:Jt,p.Ic-1),3)},"%m":function(p){return u(p.Ic+1,2)},"%M":function(p){return u(p.Od,2)},"%n":function(){return`
`},"%p":function(p){return 0<=p.Tc&&12>p.Tc?"AM":"PM"},"%S":function(p){return u(p.Pd,2)},"%t":function(){return"	"},"%u":function(p){return p.Uc||7},"%U":function(p){var F=new Date(p.xc+1900,0,1),G=F.getDay()===0?F:Qt(F,7-F.getDay());return p=new Date(p.xc+1900,p.Ic,p.Nc),0>d(G,p)?u(Math.ceil((31-G.getDate()+(br(Zt(p.getFullYear())?Kt:Jt,p.getMonth()-1)-31)+p.getDate())/7),2):d(G,F)===0?"01":"00"},"%V":function(p){var F=new Date(p.xc+1901,0,4),G=R(new Date(p.xc+1900,0,4));F=R(F);var le=Qt(new Date(p.xc+1900,0,1),p.Vc);return 0>d(le,G)?"53":0>=d(F,le)?"01":u(Math.ceil((G.getFullYear()<p.xc+1900?p.Vc+32-G.getDate():p.Vc+1-G.getDate())/7),2)},"%w":function(p){return p.Uc},"%W":function(p){var F=new Date(p.xc,0,1),G=F.getDay()===1?F:Qt(F,F.getDay()===0?1:7-F.getDay()+1);return p=new Date(p.xc+1900,p.Ic,p.Nc),0>d(G,p)?u(Math.ceil((31-G.getDate()+(br(Zt(p.getFullYear())?Kt:Jt,p.getMonth()-1)-31)+p.getDate())/7),2):d(G,F)===0?"01":"00"},"%y":function(p){return(p.xc+1900).toString().substring(2)},"%Y":function(p){return p.xc+1900},"%z":function(p){p=p.Nd;var F=0<=p;return p=Math.abs(p)/60,(F?"+":"-")+("0000"+(p/60*100+p%60)).slice(-4)},"%Z":function(p){return p.Qd},"%%":function(){return"%"}};for(L in A)0<=i.indexOf(L)&&(i=i.replace(new RegExp(L,"g"),A[L](a)));return L=ni(i,!1),L.length>t?0:(ee.set(L,e),L.length-1)}function ii(e,t,i,a){e||(e=this),this.parent=e,this.Bc=e.Bc,this.Kc=null,this.id=Ge++,this.name=t,this.mode=i,this.qc={},this.sc={},this.Lc=a}Object.defineProperties(ii.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(e){e?this.mode|=146:this.mode&=-147}}}),Vr(),de=Array(4096),Cr(l,"/"),Je("/tmp"),Je("/home"),Je("/home/web_user"),function(){Je("/dev"),or(259,{read:function(){return 0},write:function(t,i,a,_){return _}}),Dt("/dev/null",259),$(1280,fe),$(1536,b),Dt("/dev/tty",1280),Dt("/dev/tty1",1536);var e=ie();At("random",e),At("urandom",e),Je("/dev/shm"),Je("/dev/shm/tmp")}(),function(){Je("/proc");var e=Je("/proc/self");Je("/proc/self/fd"),Cr({Bc:function(){var t=gt(e,"fd",16895,73);return t.qc={Jc:function(i,a){var _=j[+a];if(!_)throw new v(8);return i={parent:null,Bc:{kd:"fake"},qc:{Mc:function(){return _.path}}},i.parent=i}},t}},"/proc/self/fd")}(),r.requestFullscreen=function(e,t){Ni(e,t)},r.requestAnimationFrame=function(e){fr(e)},r.setCanvasSize=function(e,t,i){Lt(r.canvas,e,t),i||pr()},r.pauseMainLoop=function(){_t=null,Gt++},r.resumeMainLoop=function(){Gt++;var e=Wt,t=Ht,i=xt;xt=null,Si(i),Pi(e,t),_t()},r.getUserMedia=function(){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(void 0)},r.createContext=function(e,t,i,a){return Vi(e,t,i,a)},function(e,t){try{var i=indexedDB.open("emscripten_filesystem",1)}catch(a){t(a);return}i.onupgradeneeded=function(a){a=a.target.result,a.objectStoreNames.contains("FILES")&&a.deleteObjectStore("FILES"),a.createObjectStore("FILES")},i.onsuccess=function(a){e(a.target.result)},i.onerror=function(a){t(a)}}(function(e){It=e,et()},function(){It=!1,et()}),typeof ENVIRONMENT_IS_FETCH_WORKER<"u"&&ENVIRONMENT_IS_FETCH_WORKER||Xe();var ht;function ni(e,t){var i=Array(Fe(e)+1);return e=se(e,i,0,i.length),t&&(i.length=e),i}var nn={I:function(e,t){return he(e,t)},a:function(e){return ct(e+16)+16},b:function(e,t,i){throw new Ue(e).yd(t,i),e},e:function(e,t,i){Tt=i;try{var a=ot(e);switch(t){case 0:var _=pt();return 0>_?-28:Et(a.path,a.flags,0,_).Cc;case 1:case 2:return 0;case 3:return a.flags;case 4:return _=pt(),a.flags|=_,0;case 12:return _=pt(),Me[_+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return m[ai()>>2]=28,-1;default:return-28}}catch(u){return typeof ge<"u"&&u instanceof v||Q(u),-u.vc}},E:function(e,t,i){try{var a=ot(e);if(!a.Dc){var _=ve(a.path,{Pc:!0}).node;if(!_.qc.Rc)throw new v(54);var u=_.qc.Rc(_);a.Dc=u}e=0;for(var d=Ut(a,0,1),R=Math.floor(d/280);R<a.Dc.length&&e+280<=i;){var k=a.Dc[R];if(k[0]===".")var A=1,L=4;else{var S=Le(a.node,k);A=S.id,L=(S.mode&61440)===8192?2:(S.mode&61440)===16384?4:(S.mode&61440)===40960?10:8}oe=[A>>>0,(V=A,1<=+Math.abs(V)?0<V?(Math.min(+Math.floor(V/4294967296),4294967295)|0)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],m[t+e>>2]=oe[0],m[t+e+4>>2]=oe[1],oe=[280*(R+1)>>>0,(V=280*(R+1),1<=+Math.abs(V)?0<V?(Math.min(+Math.floor(V/4294967296),4294967295)|0)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],m[t+e+8>>2]=oe[0],m[t+e+12>>2]=oe[1],Me[t+e+16>>1]=280,ee[t+e+18>>0]=L,se(k,J,t+e+19,256),e+=280,R+=1}return Ut(a,280*R,0),e}catch(Y){return typeof ge<"u"&&Y instanceof v||Q(Y),-Y.vc}},n:function(){return 42},G:function(e,t,i){Tt=i;try{var a=ot(e);switch(t){case 21509:case 21505:return a.uc?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return a.uc?0:-59;case 21519:if(!a.uc)return-59;var _=pt();return m[_>>2]=0;case 21520:return a.uc?-28:-59;case 21531:if(e=_=pt(),!a.sc.Ad)throw new v(59);return a.sc.Ad(a,t,e);case 21523:return a.uc?0:-59;case 21524:return a.uc?0:-59;default:Q("bad ioctl syscall "+t)}}catch(u){return typeof ge<"u"&&u instanceof v||Q(u),-u.vc}},H:function(e,t){try{return e=te(e),Gr(Ii,e,t)}catch(i){return typeof ge<"u"&&i instanceof v||Q(i),-i.vc}},p:function(e,t,i){Tt=i;try{var a=te(e),_=i?pt():0;return Et(a,t,_).Cc}catch(u){return typeof ge<"u"&&u instanceof v||Q(u),-u.vc}},J:function(e,t){try{return e=te(e),Gr(Ur,e,t)}catch(i){return typeof ge<"u"&&i instanceof v||Q(i),-i.vc}},C:function(e,t){try{return e=te(e),t=te(t),Ct(e,t),0}catch(i){return typeof ge<"u"&&i instanceof v||Q(i),-i.vc}},K:function(e){try{if(!e)return-21;var t={__size__:390,domainname:325,machine:260,nodename:65,release:130,sysname:0,version:195};return Te("Emscripten",e+t.sysname),Te("emscripten",e+t.nodename),Te("1.0",e+t.release),Te("#1",e+t.version),Te("wasm32",e+t.machine),0}catch(i){return typeof ge<"u"&&i instanceof v||Q(i),-i.vc}},D:function(e){try{e=te(e);var t=ve(e,{parent:!0}).node,i=N(e),a=Le(t,i);e:{try{var _=Le(t,i)}catch(A){var u=A.vc;break e}var d=st(t,"wx");u=d||((_.mode&61440)===16384?31:0)}if(u)throw new v(u);if(!t.qc.Wc)throw new v(63);if(a.Kc)throw new v(10);try{me.willDeletePath&&me.willDeletePath(e)}catch(A){w("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+A.message)}t.qc.Wc(t,i);var R=rt(a.parent.id,a.name);if(de[R]===a)de[R]=a.Fc;else for(var k=de[R];k;){if(k.Fc===a){k.Fc=a.Fc;break}k=k.Fc}try{me.onDeletePath&&me.onDeletePath(e)}catch(A){w("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+A.message)}return 0}catch(A){return typeof ge<"u"&&A instanceof v||Q(A),-A.vc}},L:function(e){delete dr[e-1]},c:function(){Q()},h:he,P:function(e,t){return e-t},R:function(){self.postMessage({t:"gfx"})},t:function(){var e=new URL(location.origin).hostname;if(e.length===0&&(e=new URL(location.href.replace("blob:","")).hostname),/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e))e.indexOf("10.")===0&&(e="10.*"),e.indexOf("192.168.")===0&&(e="192.168.*"),e.indexOf("172.")===0&&(e="172.*"),e.indexOf("127.")===0&&(e="127.*");else{var t=new RegExp("(\\.ngrok\\.io)$","i");t.test(e)&&(e="*.ngrok.io"),t=new RegExp("(\\.ngrok-free\\.app)$","i"),t.test(e)&&(e="*.ngrok.io"),t=new RegExp("(\\.arweb\\.app)$","i"),t.test(e)&&(e="*.arweb.app")}t=Fe(e)+1;var i=ct(t);return se(e,J,i,t+1),i},s:function(){self.postMessage({t:"licerr"})},l:function(e,t,i){function a(){ue.get(e)(t)}0<=i?Xr(a,i):Wi(a)},x:function(){return 2147483648},N:Kr,v:function(e,t,i){J.copyWithin(e,t,t+i)},w:function(e){var t=J.length;if(2147483648<e)return!1;for(var i=1;4>=i;i*=2){var a=t*(1+.2/i);a=Math.min(a,e+100663296),a=Math.max(e,a),0<a%65536&&(a+=65536-a%65536);e:{try{x.grow(Math.min(2147483648,a)-Be.byteLength+65535>>>16),He();var _=1;break e}catch{}_=void 0}if(_)return!0}return!1},M:function(e,t,i,a,_){function u(H){hr(H,d,A,L,k)}function d(H,Ae){Jr(H,Ae.response,function(ye){Qe(function(){F?ue.get(F)(ye):t&&t(ye)})},function(ye){Qe(function(){F?ue.get(F)(ye):t&&t(ye)})})}function R(H){hr(H,S,A,L,k)}function k(H){Qe(function(){We?ue.get(We)(H):_&&_(H)})}function A(H){Qe(function(){G?ue.get(G)(H):i&&i(H)})}function L(H){Qe(function(){le?ue.get(le)(H):a&&a(H)})}function S(H){Qe(function(){F?ue.get(F)(H):t&&t(H)})}var Y=e+112,p=te(Y),F=U[Y+36>>2],G=U[Y+40>>2],le=U[Y+44>>2],We=U[Y+48>>2],$e=U[Y+52>>2],er=!!($e&4),M=!!($e&32);if($e=!!($e&16),p==="EM_IDB_STORE")p=U[Y+84>>2],Jr(e,J.slice(p,p+U[Y+88>>2]),S,A);else if(p==="EM_IDB_DELETE")qi(e,S,A);else if($e){if(M)return 0;hr(e,er?d:S,A,L,k)}else Yi(e,S,M?A:er?u:R);return e},A:function(e,t){try{var i=0;return $r().forEach(function(a,_){var u=t+i;m[e+4*_>>2]=u,Te(a,u),i+=a.length+1}),0}catch(a){return typeof ge<"u"&&a instanceof v||Q(a),a.vc}},B:function(e,t){try{var i=$r();m[e>>2]=i.length;var a=0;return i.forEach(function(_){a+=_.length+1}),m[t>>2]=a,0}catch(_){return typeof ge<"u"&&_ instanceof v||Q(_),_.vc}},O:function(e){un(e)},g:function(e){try{var t=ot(e);if(t.Cc===null)throw new v(8);t.Dc&&(t.Dc=null);try{t.sc.close&&t.sc.close(t)}catch(i){throw i}finally{j[t.Cc]=null}return t.Cc=null,0}catch(i){return typeof ge<"u"&&i instanceof v||Q(i),i.vc}},F:function(e,t,i,a){try{e:{for(var _=ot(e),u=e=0;u<i;u++){var d=m[t+(8*u+4)>>2],R=_,k=m[t+8*u>>2],A=d,L=void 0,S=ee;if(0>A||0>L)throw new v(28);if(R.Cc===null)throw new v(8);if((R.flags&2097155)===1)throw new v(8);if((R.node.mode&61440)===16384)throw new v(31);if(!R.sc.read)throw new v(28);var Y=typeof L<"u";if(!Y)L=R.position;else if(!R.seekable)throw new v(70);var p=R.sc.read(R,S,k,A,L);Y||(R.position+=p);var F=p;if(0>F){var G=-1;break e}if(e+=F,F<d)break}G=e}return m[a>>2]=G,0}catch(le){return typeof ge<"u"&&le instanceof v||Q(le),le.vc}},u:function(e,t,i,a,_){try{var u=ot(e);return e=4294967296*i+(t>>>0),-9007199254740992>=e||9007199254740992<=e?-61:(Ut(u,e,a),oe=[u.position>>>0,(V=u.position,1<=+Math.abs(V)?0<V?(Math.min(+Math.floor(V/4294967296),4294967295)|0)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],m[_>>2]=oe[0],m[_+4>>2]=oe[1],u.Dc&&e===0&&a===0&&(u.Dc=null),0)}catch(d){return typeof ge<"u"&&d instanceof v||Q(d),d.vc}},k:function(e,t,i,a){try{e:{for(var _=ot(e),u=e=0;u<i;u++){var d=_,R=m[t+8*u>>2],k=m[t+(8*u+4)>>2],A=void 0,L=ee;if(0>k||0>A)throw new v(28);if(d.Cc===null)throw new v(8);if((d.flags&2097155)===0)throw new v(8);if((d.node.mode&61440)===16384)throw new v(31);if(!d.sc.write)throw new v(28);d.seekable&&d.flags&1024&&Ut(d,0,2);var S=typeof A<"u";if(!S)A=d.position;else if(!d.seekable)throw new v(70);var Y=d.sc.write(d,L,R,k,A,void 0);S||(d.position+=Y);try{d.path&&me.onWriteToFile&&me.onWriteToFile(d.path)}catch(G){w("FS.trackingDelegate['onWriteToFile']('"+d.path+"') threw an exception: "+G.message)}var p=Y;if(0>p){var F=-1;break e}e+=p}F=e}return m[a>>2]=F,0}catch(G){return typeof ge<"u"&&G instanceof v||Q(G),G.vc}},f:function(e){var t=Date.now();return m[e>>2]=t/1e3|0,m[e+4>>2]=t%1e3*1e3|0,0},m:function(e,t){ht.bindTexture(e,wr[t])},o:function(e,t){for(var i=0;i<e;i++){var a=ht.createTexture(),_=a&&ei(wr);a?(a.name=_,wr[_]=a):ti||(ti=1282),m[t+4*i>>2]=_}},i:function(e,t,i,a,_,u,d,R,k){var A=ht,L=A.texImage2D;if(k){var S=R-5120;S=S==1?J:S==4?m:S==6?ke:S==5||S==28922?U:q;var Y=31-Math.clz32(S.BYTES_PER_ELEMENT);k=S.subarray(k>>Y,k+_*(a*({5:3,6:4,8:2,29502:3,29504:4}[d-6402]||1)*(1<<Y)+4-1&-4)>>Y)}else k=null;L.call(A,e,t,i,a,_,u,d,R,k)},j:function(e,t,i){ht.texParameteri(e,t,i)},r:jt,q:function(e,t){tn(),e=new Date(1e3*m[e>>2]),m[t>>2]=e.getSeconds(),m[t+4>>2]=e.getMinutes(),m[t+8>>2]=e.getHours(),m[t+12>>2]=e.getDate(),m[t+16>>2]=e.getMonth(),m[t+20>>2]=e.getFullYear()-1900,m[t+24>>2]=e.getDay();var i=new Date(e.getFullYear(),0,1);m[t+28>>2]=(e.getTime()-i.getTime())/864e5|0,m[t+36>>2]=-(60*e.getTimezoneOffset());var a=new Date(e.getFullYear(),6,1).getTimezoneOffset();return i=i.getTimezoneOffset(),e=(a!=i&&e.getTimezoneOffset()==Math.min(i,a))|0,m[t+32>>2]=e,e=m[Ot()+(e?4:0)>>2],m[t+40>>2]=e,t},Q:function(){return 6},y:function(){return 28},z:function(e,t,i,a){return rn(e,t,i,a)},d:function(e){var t=Date.now()/1e3|0;return e&&(m[e>>2]=t),t}},h=function(){function e(i){r.asm=i.exports,x=r.asm.S,He(),ue=r.asm.X,Ye.unshift(r.asm.T),et()}var t={a:nn};if(Xe(),r.instantiateWasm)try{return r.instantiateWasm(t,e)}catch(i){return w("Module.instantiateWasm callback failed with error: "+i),!1}return t=je(t),e(t[0]),r.asm}();r.___wasm_call_ctors=h.T,r._zappar_has_initialized=h.U,r._zappar_invert=h.V,r._zappar_loaded=h.W,r._zappar_pipeline_create=h.Y,r._zappar_pipeline_destroy=h.Z,r._zappar_pipeline_camera_frame_submit=h._,r._zappar_pipeline_camera_frame_submit_raw_pointer=h.$,r._zappar_pipeline_frame_update=h.aa,r._zappar_pipeline_camera_frame_user_data=h.ba,r._zappar_pipeline_camera_model=h.ca,r._zappar_pipeline_frame_number=h.da,r._zappar_pipeline_motion_accelerometer_submit=h.ea,r._zappar_pipeline_motion_rotation_rate_submit=h.fa,r._zappar_pipeline_motion_attitude_submit=h.ga,r._zappar_pipeline_motion_attitude_matrix_submit=h.ha,r._zappar_pipeline_camera_frame_user_facing=h.ia,r._zappar_pipeline_camera_frame_texture_matrix=h.ja,r._zappar_pipeline_camera_pose_with_attitude=h.ka,r._zappar_pipeline_camera_pose_with_origin=h.la,r._zappar_pipeline_camera_frame_camera_attitude=h.ma,r._zappar_pipeline_camera_frame_device_attitude=h.na,r._zappar_pipeline_camera_frame_texture_gl=h.oa,r._zappar_pipeline_camera_frame_upload_gl=h.pa,r._zappar_pipeline_sequence_record_start=h.qa,r._zappar_pipeline_sequence_record_stop=h.ra,r._zappar_pipeline_sequence_record_clear=h.sa,r._zappar_pipeline_sequence_record_device_attitude_matrices_set=h.ta,r._zappar_pipeline_sequence_record_data_size=h.ua,r._zappar_pipeline_sequence_record_data=h.va,r._zappar_pipeline_process_gl=h.wa,r._zappar_pipeline_camera_pose_default=h.xa,r._zappar_instant_world_tracker_create=h.ya,r._zappar_instant_world_tracker_destroy=h.za,r._zappar_instant_world_tracker_anchor_pose_set_from_camera_offset_raw=h.Aa,r._zappar_instant_world_tracker_anchor_pose_raw=h.Ba,r._zappar_instant_world_tracker_enabled_set=h.Ca,r._zappar_instant_world_tracker_enabled=h.Da,r._zappar_image_tracker_create=h.Ea,r._zappar_image_tracker_destroy=h.Fa,r._zappar_image_tracker_target_load_from_memory=h.Ga,r.__Z42zappar_image_tracker_target_load_from_fileP23zappar_image_tracker_tiPKc=h.Ha;var an=r._free=h.Ia;r._zappar_image_tracker_anchor_count=h.Ja,r._zappar_image_tracker_anchor_id=h.Ka,r._zappar_image_tracker_anchor_pose_raw=h.La,r._zappar_image_tracker_enabled_set=h.Ma,r._zappar_image_tracker_enabled=h.Na,r._zappar_image_tracker_target_loaded_version=h.Oa,r.__Z33zappar_image_tracker_target_countP23zappar_image_tracker_ti=h.Pa,r.__Z46zappar_image_tracker_target_preview_compressedP23zappar_image_tracker_tii=h.Qa,r.__Z51zappar_image_tracker_target_preview_compressed_sizeP23zappar_image_tracker_tii=h.Ra,r.__Z55zappar_image_tracker_target_preview_compressed_mimetypeP23zappar_image_tracker_tii=h.Sa,r.__Z40zappar_image_tracker_target_preview_rgbaP23zappar_image_tracker_tii=h.Ta,r.__Z45zappar_image_tracker_target_preview_rgba_sizeP23zappar_image_tracker_tii=h.Ua,r.__Z46zappar_image_tracker_target_preview_rgba_widthP23zappar_image_tracker_tii=h.Va,r.__Z47zappar_image_tracker_target_preview_rgba_heightP23zappar_image_tracker_tii=h.Wa,r.__Z38zappar_image_tracker_target_radius_topP23zappar_image_tracker_tii=h.Xa,r.__Z41zappar_image_tracker_target_radius_bottomP23zappar_image_tracker_tii=h.Ya,r.__Z39zappar_image_tracker_target_side_lengthP23zappar_image_tracker_tii=h.Za,r.__Z49zappar_image_tracker_target_physical_scale_factorP23zappar_image_tracker_tii=h._a,r.__Z49zappar_image_tracker_target_preview_mesh_verticesP23zappar_image_tracker_tii=h.$a,r.__Z48zappar_image_tracker_target_preview_mesh_normalsP23zappar_image_tracker_tii=h.ab,r.__Z44zappar_image_tracker_target_preview_mesh_uvsP23zappar_image_tracker_tii=h.bb,r.__Z48zappar_image_tracker_target_preview_mesh_indicesP23zappar_image_tracker_tii=h.cb,r.__Z54zappar_image_tracker_target_preview_mesh_vertices_sizeP23zappar_image_tracker_tii=h.db,r.__Z53zappar_image_tracker_target_preview_mesh_normals_sizeP23zappar_image_tracker_tii=h.eb,r.__Z49zappar_image_tracker_target_preview_mesh_uvs_sizeP23zappar_image_tracker_tii=h.fb,r.__Z53zappar_image_tracker_target_preview_mesh_indices_sizeP23zappar_image_tracker_tii=h.gb,r.__Z32zappar_image_tracker_target_typeP23zappar_image_tracker_tii=h.hb,r._zappar_face_tracker_create=h.ib,r._zappar_face_tracker_destroy=h.jb,r._zappar_face_tracker_model_load_from_memory=h.kb,r._zappar_face_tracker_anchor_count=h.lb,r._zappar_face_tracker_anchor_id=h.mb,r._zappar_face_tracker_anchor_pose_raw=h.nb,r._zappar_face_tracker_anchor_identity_coefficients=h.ob,r._zappar_face_tracker_anchor_expression_coefficients=h.pb,r._zappar_face_tracker_enabled_set=h.qb,r._zappar_face_tracker_enabled=h.rb,r._zappar_face_tracker_max_faces_set=h.sb,r._zappar_face_tracker_max_faces=h.tb,r._zappar_face_tracker_model_loaded_version=h.ub,r._zappar_face_landmark_create=h.vb,r._zappar_face_landmark_destroy=h.wb,r.__Z27zappar_face_landmark_updateP23zappar_face_landmark_tiPKfS2_i=h.xb,r._zappar_face_landmark_anchor_pose=h.yb,r._zappar_barcode_finder_create=h.zb,r._zappar_barcode_finder_destroy=h.Ab,r._zappar_barcode_finder_found_number=h.Bb,r._zappar_barcode_finder_found_text=h.Cb,r._zappar_barcode_finder_enabled_set=h.Db,r._zappar_barcode_finder_enabled=h.Eb,r._zappar_barcode_finder_found_format=h.Fb,r._zappar_barcode_finder_formats=h.Gb,r._zappar_barcode_finder_formats_set=h.Hb;var ct=r._malloc=h.Ib;r._zappar_face_mesh_create=h.Jb,r._zappar_face_mesh_destroy=h.Kb,r.__Z33zappar_face_mesh_load_from_memoryP19zappar_face_mesh_tiPKciiiii=h.Lb,r.__Z29zappar_face_mesh_indices_sizeP19zappar_face_mesh_ti=h.Mb,r.__Z25zappar_face_mesh_uvs_sizeP19zappar_face_mesh_ti=h.Nb,r.__Z30zappar_face_mesh_vertices_sizeP19zappar_face_mesh_ti=h.Ob,r.__Z31zappar_face_mesh_loaded_versionP19zappar_face_mesh_ti=h.Pb,r.__Z25zappar_face_mesh_verticesP19zappar_face_mesh_ti=h.Qb,r.__Z20zappar_face_mesh_uvsP19zappar_face_mesh_ti=h.Rb,r.__Z24zappar_face_mesh_indicesP19zappar_face_mesh_ti=h.Sb,r.__Z23zappar_face_mesh_updateP19zappar_face_mesh_tiPKfS2_i=h.Tb,r.__Z29zappar_face_mesh_normals_sizeP19zappar_face_mesh_ti=h.Ub,r.__Z24zappar_face_mesh_normalsP19zappar_face_mesh_ti=h.Vb,r._zappar_camera_source_create=h.Wb,r._zappar_camera_source_destroy=h.Xb,r._zappar_camera_source_start=h.Yb,r._zappar_camera_source_pause=h.Zb,r._zappar_camera_default_device_id=h._b,r._zappar_sequence_source_create=h.$b,r.__Z28zappar_sequence_source_startP25zappar_sequence_source_ti=h.ac,r.__Z39zappar_sequence_source_load_from_memoryP25zappar_sequence_source_tiPKci=h.bc,r.__Z28zappar_sequence_source_pauseP25zappar_sequence_source_ti=h.cc,r._zappar_sequence_source_destroy=h.dc,r._zappar_sequence_source_max_playback_fps_set=h.ec,r._zappar_log_level_set=h.fc,r._zappar_log_level=h.gc,r.__Z23zappar_log_redirect_setPFv18zappar_log_level_tPKcE=h.hc,r._zappar_analytics_project_id_set=h.ic;var ai=r.___errno_location=h.jc,Ot=r.__get_tzname=h.kc,sn=r.__get_daylight=h.lc,on=r.__get_timezone=h.mc,_n=r.stackSave=h.nc,cn=r.stackRestore=h.oc,si=r.stackAlloc=h.pc;r.cwrap=function(e,t,i,a){i=i||[];var _=i.every(function(u){return u==="number"});return t!=="string"&&_&&!a?B(e):function(){return D(e,t,i,arguments)}},r.setValue=function(e,t,i){switch(i=i||"i8",i.charAt(i.length-1)==="*"&&(i="i32"),i){case"i1":ee[e>>0]=t;break;case"i8":ee[e>>0]=t;break;case"i16":Me[e>>1]=t;break;case"i32":m[e>>2]=t;break;case"i64":oe=[t>>>0,(V=t,1<=+Math.abs(V)?0<V?(Math.min(+Math.floor(V/4294967296),4294967295)|0)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],m[e>>2]=oe[0],m[e+4>>2]=oe[1];break;case"float":ke[e>>2]=t;break;case"double":Ie[e>>3]=t;break;default:Q("invalid type for setValue: "+i)}},r.getValue=function(e,t){switch(t=t||"i8",t.charAt(t.length-1)==="*"&&(t="i32"),t){case"i1":return ee[e>>0];case"i8":return ee[e>>0];case"i16":return Me[e>>1];case"i32":return m[e>>2];case"i64":return m[e>>2];case"float":return ke[e>>2];case"double":return Ie[e>>3];default:Q("invalid type for getValue: "+t)}return null},r.UTF8ToString=te;var $t;function oi(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}qe=function e(){$t||gr(),$t||(qe=e)};function gr(){function e(){if(!$t&&($t=!0,r.calledRun=!0,!ae)){if(r.noFSInit||Nr||(Nr=!0,Vr(),r.stdin=r.stdin,r.stdout=r.stdout,r.stderr=r.stderr,r.stdin?At("stdin",r.stdin):Ct("/dev/tty","/dev/stdin"),r.stdout?At("stdout",null,r.stdout):Ct("/dev/tty","/dev/stdout"),r.stderr?At("stderr",null,r.stderr):Ct("/dev/tty1","/dev/stderr"),Et("/dev/stdin",0),Et("/dev/stdout",1),Et("/dev/stderr",1)),Ze(Ye),Oe=!1,Ze(xe),c(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;){var t=r.postRun.shift();Re.unshift(t)}Ze(Re)}}if(!(0<ze)){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)it();Ze(De),0<ze||(r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),e()},1)):e())}}r.run=gr;function un(e){ne(e,new oi(e))}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);0<r.preInit.length;)r.preInit.pop()();return gr(),o}}();function ci(s){let o=s.cwrap("zappar_log_level","number",[]),r=s.cwrap("zappar_log_level_set",null,["number"]),c=s.cwrap("zappar_analytics_project_id_set",null,["string","string"]),f=s.cwrap("zappar_pipeline_create","number",[]),n=s.cwrap("zappar_pipeline_destroy",null,["number"]),g=s.cwrap("zappar_pipeline_frame_update",null,["number"]),W=s.cwrap("zappar_pipeline_frame_number","number",["number"]),ne=s.cwrap("zappar_pipeline_camera_model","number",["number"]),K=s.cwrap("zappar_pipeline_camera_frame_user_data","number",["number"]),re=s.cwrap("zappar_pipeline_camera_frame_submit",null,["number","number","number","number","number","number","number","number","number"]),we=s.cwrap("zappar_pipeline_camera_frame_submit_raw_pointer",null,["number","number","number","number","number","number","number","number","number","number","number"]),w=s.cwrap("zappar_pipeline_camera_frame_camera_attitude","number",["number"]),T=s.cwrap("zappar_pipeline_camera_frame_device_attitude","number",["number"]),y=s.cwrap("zappar_pipeline_motion_accelerometer_submit",null,["number","number","number","number","number"]),E=s.cwrap("zappar_pipeline_motion_rotation_rate_submit",null,["number","number","number","number","number"]),x=s.cwrap("zappar_pipeline_motion_attitude_submit",null,["number","number","number","number","number"]),ae=s.cwrap("zappar_pipeline_motion_attitude_matrix_submit",null,["number","number"]),pe=s.cwrap("zappar_camera_source_create","number",["number","string"]),B=s.cwrap("zappar_camera_source_destroy",null,["number"]),D=s.cwrap("zappar_sequence_source_create","number",["number"]),ce=s.cwrap("zappar_sequence_source_destroy",null,["number"]),be=s.cwrap("zappar_image_tracker_create","number",["number"]),te=s.cwrap("zappar_image_tracker_destroy",null,["number"]),se=s.cwrap("zappar_image_tracker_target_load_from_memory",null,["number","number","number"]),Fe=s.cwrap("zappar_image_tracker_target_loaded_version","number",["number"]),P=s.cwrap("zappar_image_tracker_enabled","number",["number"]),Te=s.cwrap("zappar_image_tracker_enabled_set",null,["number","number"]),Be=s.cwrap("zappar_image_tracker_anchor_count","number",["number"]),ee=s.cwrap("zappar_image_tracker_anchor_id","string",["number","number"]),J=s.cwrap("zappar_image_tracker_anchor_pose_raw","number",["number","number"]),Me=s.cwrap("zappar_face_tracker_create","number",["number"]),q=s.cwrap("zappar_face_tracker_destroy",null,["number"]),m=s.cwrap("zappar_face_tracker_model_load_from_memory",null,["number","number","number"]),U=s.cwrap("zappar_face_tracker_model_loaded_version","number",["number"]),ke=s.cwrap("zappar_face_tracker_enabled_set",null,["number","number"]),Ie=s.cwrap("zappar_face_tracker_enabled","number",["number"]),He=s.cwrap("zappar_face_tracker_max_faces_set",null,["number","number"]),ue=s.cwrap("zappar_face_tracker_max_faces","number",["number"]),De=s.cwrap("zappar_face_tracker_anchor_count","number",["number"]),Ye=s.cwrap("zappar_face_tracker_anchor_id","string",["number","number"]),xe=s.cwrap("zappar_face_tracker_anchor_pose_raw","number",["number","number"]),Re=s.cwrap("zappar_face_tracker_anchor_identity_coefficients","number",["number","number"]),it=s.cwrap("zappar_face_tracker_anchor_expression_coefficients","number",["number","number"]),ze=s.cwrap("zappar_face_mesh_create","number",[]),qe=s.cwrap("zappar_face_mesh_destroy",null,["number"]),Xe=s.cwrap("zappar_face_landmark_create","number",["number"]),et=s.cwrap("zappar_face_landmark_destroy",null,["number"]),Q=s.cwrap("zappar_barcode_finder_create","number",["number"]),Ce=s.cwrap("zappar_barcode_finder_destroy",null,["number"]),tt=s.cwrap("zappar_barcode_finder_enabled_set",null,["number","number"]),je=s.cwrap("zappar_barcode_finder_enabled","number",["number"]),V=s.cwrap("zappar_barcode_finder_found_number","number",["number"]),oe=s.cwrap("zappar_barcode_finder_found_text","string",["number","number"]),Ze=s.cwrap("zappar_barcode_finder_found_format","number",["number","number"]),Ke=s.cwrap("zappar_barcode_finder_formats","number",["number"]),he=s.cwrap("zappar_barcode_finder_formats_set",null,["number","number"]),Ue=s.cwrap("zappar_instant_world_tracker_create","number",["number"]),Ve=s.cwrap("zappar_instant_world_tracker_destroy",null,["number"]),C=s.cwrap("zappar_instant_world_tracker_enabled_set",null,["number","number"]),X=s.cwrap("zappar_instant_world_tracker_enabled","number",["number"]),N=s.cwrap("zappar_instant_world_tracker_anchor_pose_raw","number",["number"]),ie=s.cwrap("zappar_instant_world_tracker_anchor_pose_set_from_camera_offset_raw",null,["number","number","number","number","number"]),O=32,_e=s._malloc(O),$=16*4;s._malloc($);let Ne=new Map,fe=(b,l)=>{let z=Ne.get(b);return(!z||z[0]<l)&&(z&&s._free(z[1]),z=[l,s._malloc(l)],Ne.set(b,z)),z[1]};return{log_level:()=>o(),log_level_set:b=>r(b),analytics_project_id_set:(b,l)=>c(b,l),pipeline_create:()=>f(),pipeline_destroy:()=>{n()},pipeline_frame_update:b=>g(b),pipeline_frame_number:b=>W(b),pipeline_camera_model:b=>{let l=ne(b),z=new Float32Array(6);return z.set(s.HEAPF32.subarray(l/4,6+l/4)),l=z,l},pipeline_camera_frame_user_data:b=>K(b),pipeline_camera_frame_submit:(b,l,z,I,j,Ge,de,Oe)=>{O<l.byteLength&&(s._free(_e),O=l.byteLength,_e=s._malloc(O));let me=_e,v=l.byteLength;s.HEAPU8.set(new Uint8Array(l),_e);let nt=z,ve=I,at=j,rt=fe(4,Ge.byteLength);s.HEAPF32.set(Ge,rt/4);let Le=fe(5,de.byteLength);return s.HEAPF32.set(de,Le/4),re(b,me,v,nt,ve,at,rt,Le,Oe?1:0)},pipeline_camera_frame_submit_raw_pointer:(b,l,z,I,j,Ge,de,Oe,me,v,nt)=>{let ve=l,at=z,rt=I,Le=j,gt=Ge,Bt=de,yt=fe(6,Oe.byteLength);s.HEAPF32.set(Oe,yt/4);let st=me,vt=fe(8,v.byteLength);return s.HEAPF32.set(v,vt/4),we(b,ve,at,rt,Le,gt,Bt,yt,st,vt,nt?1:0)},pipeline_camera_frame_camera_attitude:b=>{let l=w(b),z=new Float32Array(16);return z.set(s.HEAPF32.subarray(l/4,16+l/4)),l=z,l},pipeline_camera_frame_device_attitude:b=>{let l=T(b),z=new Float32Array(16);return z.set(s.HEAPF32.subarray(l/4,16+l/4)),l=z,l},pipeline_motion_accelerometer_submit:(b,l,z,I,j)=>y(b,l,z,I,j),pipeline_motion_rotation_rate_submit:(b,l,z,I,j)=>E(b,l,z,I,j),pipeline_motion_attitude_submit:(b,l,z,I,j)=>x(b,l,z,I,j),pipeline_motion_attitude_matrix_submit:(b,l)=>{let z=fe(0,l.byteLength);return s.HEAPF32.set(l,z/4),ae(b,z)},camera_source_create:(b,l)=>pe(b,l),camera_source_destroy:()=>{B()},sequence_source_create:b=>D(b),sequence_source_destroy:()=>{ce()},image_tracker_create:b=>be(b),image_tracker_destroy:()=>{te()},image_tracker_target_load_from_memory:(b,l)=>{O<l.byteLength&&(s._free(_e),O=l.byteLength,_e=s._malloc(O));let z=_e,I=l.byteLength;return s.HEAPU8.set(new Uint8Array(l),_e),se(b,z,I)},image_tracker_target_loaded_version:b=>Fe(b),image_tracker_enabled:b=>{let l=P(b);return l=l===1,l},image_tracker_enabled_set:(b,l)=>Te(b,l?1:0),image_tracker_anchor_count:b=>Be(b),image_tracker_anchor_id:(b,l)=>ee(b,l),image_tracker_anchor_pose_raw:(b,l)=>{let I=J(b,l),j=new Float32Array(16);return j.set(s.HEAPF32.subarray(I/4,16+I/4)),I=j,I},face_tracker_create:b=>Me(b),face_tracker_destroy:()=>{q()},face_tracker_model_load_from_memory:(b,l)=>{O<l.byteLength&&(s._free(_e),O=l.byteLength,_e=s._malloc(O));let z=_e,I=l.byteLength;return s.HEAPU8.set(new Uint8Array(l),_e),m(b,z,I)},face_tracker_model_loaded_version:b=>U(b),face_tracker_enabled_set:(b,l)=>ke(b,l?1:0),face_tracker_enabled:b=>{let l=Ie(b);return l=l===1,l},face_tracker_max_faces_set:(b,l)=>He(b,l),face_tracker_max_faces:b=>ue(b),face_tracker_anchor_count:b=>De(b),face_tracker_anchor_id:(b,l)=>Ye(b,l),face_tracker_anchor_pose_raw:(b,l)=>{let I=xe(b,l),j=new Float32Array(16);return j.set(s.HEAPF32.subarray(I/4,16+I/4)),I=j,I},face_tracker_anchor_identity_coefficients:(b,l)=>{let I=Re(b,l),j=new Float32Array(50);return j.set(s.HEAPF32.subarray(I/4,50+I/4)),I=j,I},face_tracker_anchor_expression_coefficients:(b,l)=>{let I=it(b,l),j=new Float32Array(29);return j.set(s.HEAPF32.subarray(I/4,29+I/4)),I=j,I},face_mesh_create:()=>ze(),face_mesh_destroy:()=>{qe()},face_landmark_create:b=>Xe(b),face_landmark_destroy:()=>{et()},barcode_finder_create:b=>Q(b),barcode_finder_destroy:()=>{Ce()},barcode_finder_enabled_set:(b,l)=>tt(b,l?1:0),barcode_finder_enabled:b=>{let l=je(b);return l=l===1,l},barcode_finder_found_number:b=>V(b),barcode_finder_found_text:(b,l)=>oe(b,l),barcode_finder_found_format:(b,l)=>Ze(b,l),barcode_finder_formats:b=>Ke(b),barcode_finder_formats_set:(b,l)=>he(b,l),instant_world_tracker_create:b=>Ue(b),instant_world_tracker_destroy:()=>{Ve()},instant_world_tracker_enabled_set:(b,l)=>C(b,l?1:0),instant_world_tracker_enabled:b=>{let l=X(b);return l=l===1,l},instant_world_tracker_anchor_pose_raw:b=>{let l=N(b),z=new Float32Array(16);return z.set(s.HEAPF32.subarray(l/4,16+l/4)),l=z,l},instant_world_tracker_anchor_pose_set_from_camera_offset_raw:(b,l,z,I,j)=>ie(b,l,z,I,j)}}class ui{constructor(o){this._messageSender=o,this._freeBufferPool=[],this._buffer=new ArrayBuffer(16),this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u8cView=new Uint8ClampedArray(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=1,this._startOffset=-1,this._timeoutSet=!1,this._appender={int:r=>this.int(r),bool:r=>this.int(r?1:0),float:r=>this.float(r),string:r=>this.string(r),dataWithLength:r=>this.arrayBuffer(r),type:r=>this.int(r),matrix4x4:r=>this.float32ArrayBuffer(r),matrix3x3:r=>this.float32ArrayBuffer(r),identityCoefficients:r=>this.float32ArrayBuffer(r),expressionCoefficients:r=>this.float32ArrayBuffer(r),cameraModel:r=>this.float32ArrayBuffer(r),timestamp:r=>this.double(r),barcodeFormat:r=>this.int(r),faceLandmarkName:r=>this.int(r),instantTrackerTransformOrientation:r=>this.int(r),logLevel:r=>this.int(r)},this._freeBufferPool.push(new ArrayBuffer(16)),this._freeBufferPool.push(new ArrayBuffer(16))}bufferReturn(o){this._freeBufferPool.push(o)}_ensureArrayBuffer(o){let r=(this._offset+o+8)*4;if(this._buffer&&this._buffer.byteLength>=r)return;let c;if(!c){let n=r;n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n++,c=new ArrayBuffer(n)}let f=this._buffer?this._i32View:void 0;this._buffer=c,this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u8cView=new Uint8ClampedArray(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),f&&this._i32View.set(f.subarray(0,this._offset))}sendMessage(o,r){this._ensureArrayBuffer(4),this._startOffset=this._offset,this._i32View[this._offset+1]=o,this._offset+=2,r(this._appender),this._i32View[this._startOffset]=this._offset-this._startOffset,this._startOffset=-1,this._sendOneTime()}_sendOneTime(){this._timeoutSet===!1&&(this._timeoutSet=!0,setTimeout(()=>{this._timeoutSet=!1,this._send()},0))}_send(){if(this._freeBufferPool.length===0){this._sendOneTime();return}this._i32View[0]=this._offset,this._messageSender(this._buffer),this._buffer=void 0,this._buffer=this._freeBufferPool.pop(),this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u8cView=new Uint8ClampedArray(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=1,this._startOffset=-1}int(o){this._ensureArrayBuffer(1),this._i32View[this._offset]=o,this._offset++}double(o){this._ensureArrayBuffer(2),this._offset%2===1&&this._offset++,this._f64View[this._offset/2]=o,this._offset+=2}float(o){this._ensureArrayBuffer(1),this._f32View[this._offset]=o,this._offset++}int32Array(o){this._ensureArrayBuffer(o.length);for(let r=0;r<o.length;++r)this._i32View[this._offset+r]=o[r];this._offset+=o.length}float32Array(o){this._ensureArrayBuffer(o.length);for(let r=0;r<o.length;++r)this._f32View[this._offset+r]=o[r];this._offset+=o.length}booleanArray(o){this._ensureArrayBuffer(o.length);for(let r=0;r<o.length;++r)this._i32View[this._offset+r]=o[r]?1:0;this._offset+=o.length}uint8ArrayBuffer(o){this._ensureArrayBuffer(o.byteLength/4),this._i32View[this._offset]=o.byteLength,this._offset++,this._u8View.set(o,this._offset*4),this._offset+=o.byteLength>>2,(o.byteLength&3)!==0&&this._offset++}arrayBuffer(o){let r=new Uint8Array(o);this.uint8ArrayBuffer(r)}uint8ClampedArrayBuffer(o){this._ensureArrayBuffer(o.byteLength/4),this._i32View[this._offset]=o.byteLength,this._offset++,this._u8cView.set(o,this._offset*4),this._offset+=o.byteLength>>2,(o.byteLength&3)!==0&&this._offset++}float32ArrayBuffer(o){this._ensureArrayBuffer(o.byteLength/4),this._i32View[this._offset]=o.length,this._offset++,this._f32View.set(o,this._offset),this._offset+=o.length}uint16ArrayBuffer(o){this._ensureArrayBuffer(o.byteLength/4),this._i32View[this._offset]=o.length,this._offset++;let r=this._offset*2;this._u16View.set(o,r),this._offset+=o.length>>1,(o.length&1)!==0&&this._offset++}int32ArrayBuffer(o){this._ensureArrayBuffer(o.byteLength/4),this._i32View[this._offset]=o.length,this._offset++,this._i32View.set(o,this._offset),this._offset+=o.length}uint32ArrayBuffer(o){this._ensureArrayBuffer(o.byteLength/4),this._i32View[this._offset]=o.length,this._offset++,this._u32View.set(o,this._offset),this._offset+=o.length}string(o){let c=new TextEncoder().encode(o);this._ensureArrayBuffer(c.byteLength/4),this._i32View[this._offset]=c.byteLength,this._offset++,this._u8View.set(c,this._offset*4),this._offset+=c.byteLength>>2,(c.byteLength&3)!==0&&this._offset++}}class fi{constructor(){this._buffer=new ArrayBuffer(0),this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=0,this._length=0,this._startOffset=-1,this._processor={int:()=>this._i32View[this._startOffset++],bool:()=>this._i32View[this._startOffset++]===1,type:()=>this._i32View[this._startOffset++],float:()=>this._f32View[this._startOffset++],timestamp:()=>{this._startOffset%2===1&&this._startOffset++;let o=this._f64View[this._startOffset/2];return this._startOffset+=2,o},string:()=>{let o=this._i32View[this._startOffset++],c=new TextDecoder().decode(new Uint8Array(this._buffer,this._startOffset*4,o));return this._startOffset+=o>>2,(o&3)!==0&&this._startOffset++,c},dataWithLength:()=>{let o=this._i32View[this._startOffset++],r=new Uint8Array(o);return r.set(this._u8View.subarray(this._startOffset*4,this._startOffset*4+o)),this._startOffset+=r.byteLength>>2,(r.byteLength&3)!==0&&this._startOffset++,r.buffer},matrix4x4:()=>{let o=this._i32View[this._startOffset++],r=new Float32Array(o);return r.set(this._f32View.subarray(this._startOffset,this._startOffset+16)),this._startOffset+=o,r},matrix3x3:()=>{let o=this._i32View[this._startOffset++],r=new Float32Array(o);return r.set(this._f32View.subarray(this._startOffset,this._startOffset+9)),this._startOffset+=o,r},identityCoefficients:()=>{let o=this._i32View[this._startOffset++],r=new Float32Array(o);return r.set(this._f32View.subarray(this._startOffset,this._startOffset+50)),this._startOffset+=o,r},expressionCoefficients:()=>{let o=this._i32View[this._startOffset++],r=new Float32Array(o);return r.set(this._f32View.subarray(this._startOffset,this._startOffset+29)),this._startOffset+=o,r},cameraModel:()=>{let o=this._i32View[this._startOffset++],r=new Float32Array(o);return r.set(this._f32View.subarray(this._startOffset,this._startOffset+6)),this._startOffset+=o,r},barcodeFormat:()=>this._i32View[this._startOffset++],faceLandmarkName:()=>this._i32View[this._startOffset++],instantTrackerTransformOrientation:()=>this._i32View[this._startOffset++],logLevel:()=>this._i32View[this._startOffset++]}}setData(o){this._buffer=o,this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=0,this._length=0,o.byteLength>=4&&(this._offset=1,this._length=this._i32View[0]),this._startOffset=-1}hasMessage(){return this._offset+1<this._length}forMessages(o){for(;this.hasMessage();){let r=this._i32View[this._offset],c=this._i32View[this._offset+1];this._startOffset=this._offset+2,this._offset+=r,o(c,this._processor)}}}class li{constructor(o,r){this._impl=o,this._sender=r,this._deserializer=new fi,this.serializersByPipelineId=new Map,this._pipeline_id_by_pipeline_id=new Map,this._pipeline_by_instance=new Map,this._pipeline_id_by_camera_source_id=new Map,this._camera_source_by_instance=new Map,this._pipeline_id_by_sequence_source_id=new Map,this._sequence_source_by_instance=new Map,this._pipeline_id_by_image_tracker_id=new Map,this._image_tracker_by_instance=new Map,this._pipeline_id_by_face_tracker_id=new Map,this._face_tracker_by_instance=new Map,this._pipeline_id_by_face_mesh_id=new Map,this._face_mesh_by_instance=new Map,this._pipeline_id_by_face_landmark_id=new Map,this._face_landmark_by_instance=new Map,this._pipeline_id_by_barcode_finder_id=new Map,this._barcode_finder_by_instance=new Map,this._pipeline_id_by_instant_world_tracker_id=new Map,this._instant_world_tracker_by_instance=new Map}processBuffer(o){this._deserializer.setData(o),this._deserializer.forMessages((r,c)=>{switch(r){case 34:{this._impl.log_level_set(c.logLevel());break}case 31:{this._impl.analytics_project_id_set(c.string(),c.string());break}case 27:{let f=c.type(),n=this._impl.pipeline_create();this._pipeline_by_instance.set(f,n),this._pipeline_id_by_pipeline_id.set(f,f),this.serializersByPipelineId.set(f,new ui(g=>{this._sender(f,g)}));break}case 28:{let f=c.type(),n=this._pipeline_by_instance.get(f);if(n===void 0)return;this._impl.pipeline_destroy(n),this._pipeline_by_instance.delete(f);break}case 9:{let f=c.type(),n=this._pipeline_by_instance.get(f);if(n===void 0)return;this._impl.pipeline_frame_update(n);break}case 8:{let f=c.type(),n=this._pipeline_by_instance.get(f);if(n===void 0)return;this._impl.pipeline_camera_frame_submit(n,c.dataWithLength(),c.int(),c.int(),c.int(),c.matrix4x4(),c.cameraModel(),c.bool());break}case 10:{let f=c.type(),n=this._pipeline_by_instance.get(f);if(n===void 0)return;this._impl.pipeline_motion_accelerometer_submit(n,c.timestamp(),c.float(),c.float(),c.float());break}case 11:{let f=c.type(),n=this._pipeline_by_instance.get(f);if(n===void 0)return;this._impl.pipeline_motion_rotation_rate_submit(n,c.timestamp(),c.float(),c.float(),c.float());break}case 12:{let f=c.type(),n=this._pipeline_by_instance.get(f);if(n===void 0)return;this._impl.pipeline_motion_attitude_submit(n,c.timestamp(),c.float(),c.float(),c.float());break}case 13:{let f=c.type(),n=this._pipeline_by_instance.get(f);if(n===void 0)return;this._impl.pipeline_motion_attitude_matrix_submit(n,c.matrix4x4());break}case 29:{let f=c.type(),n=c.type(),g=this._pipeline_by_instance.get(n),W=c.string(),ne=this._impl.camera_source_create(g,W);this._camera_source_by_instance.set(f,ne),this._pipeline_id_by_camera_source_id.set(f,n);break}case 30:{let f=c.type(),n=this._camera_source_by_instance.get(f);if(n===void 0)return;this._impl.camera_source_destroy(n),this._camera_source_by_instance.delete(f);break}case 35:{let f=c.type(),n=c.type(),g=this._pipeline_by_instance.get(n),W=this._impl.sequence_source_create(g);this._sequence_source_by_instance.set(f,W),this._pipeline_id_by_sequence_source_id.set(f,n);break}case 36:{let f=c.type(),n=this._sequence_source_by_instance.get(f);if(n===void 0)return;this._impl.sequence_source_destroy(n),this._sequence_source_by_instance.delete(f);break}case 2:{let f=c.type(),n=c.type(),g=this._pipeline_by_instance.get(n),W=this._impl.image_tracker_create(g);this._image_tracker_by_instance.set(f,W),this._pipeline_id_by_image_tracker_id.set(f,n);break}case 14:{let f=c.type(),n=this._image_tracker_by_instance.get(f);if(n===void 0)return;this._impl.image_tracker_destroy(n),this._image_tracker_by_instance.delete(f);break}case 4:{let f=c.type(),n=this._image_tracker_by_instance.get(f);if(n===void 0)return;this._impl.image_tracker_target_load_from_memory(n,c.dataWithLength());break}case 3:{let f=c.type(),n=this._image_tracker_by_instance.get(f);if(n===void 0)return;this._impl.image_tracker_enabled_set(n,c.bool());break}case 20:{let f=c.type(),n=c.type(),g=this._pipeline_by_instance.get(n),W=this._impl.face_tracker_create(g);this._face_tracker_by_instance.set(f,W),this._pipeline_id_by_face_tracker_id.set(f,n);break}case 21:{let f=c.type(),n=this._face_tracker_by_instance.get(f);if(n===void 0)return;this._impl.face_tracker_destroy(n),this._face_tracker_by_instance.delete(f);break}case 22:{let f=c.type(),n=this._face_tracker_by_instance.get(f);if(n===void 0)return;this._impl.face_tracker_model_load_from_memory(n,c.dataWithLength());break}case 23:{let f=c.type(),n=this._face_tracker_by_instance.get(f);if(n===void 0)return;this._impl.face_tracker_enabled_set(n,c.bool());break}case 24:{let f=c.type(),n=this._face_tracker_by_instance.get(f);if(n===void 0)return;this._impl.face_tracker_max_faces_set(n,c.int());break}case 25:{let f=c.type(),n=this._impl.face_mesh_create();this._face_mesh_by_instance.set(f,n);break}case 26:{let f=c.type(),n=this._face_mesh_by_instance.get(f);if(n===void 0)return;this._impl.face_mesh_destroy(n),this._face_mesh_by_instance.delete(f);break}case 32:{let f=c.type(),n=c.faceLandmarkName(),g=this._impl.face_landmark_create(n);this._face_landmark_by_instance.set(f,g);break}case 33:{let f=c.type(),n=this._face_landmark_by_instance.get(f);if(n===void 0)return;this._impl.face_landmark_destroy(n),this._face_landmark_by_instance.delete(f);break}case 16:{let f=c.type(),n=c.type(),g=this._pipeline_by_instance.get(n),W=this._impl.barcode_finder_create(g);this._barcode_finder_by_instance.set(f,W),this._pipeline_id_by_barcode_finder_id.set(f,n);break}case 17:{let f=c.type(),n=this._barcode_finder_by_instance.get(f);if(n===void 0)return;this._impl.barcode_finder_destroy(n),this._barcode_finder_by_instance.delete(f);break}case 18:{let f=c.type(),n=this._barcode_finder_by_instance.get(f);if(n===void 0)return;this._impl.barcode_finder_enabled_set(n,c.bool());break}case 19:{let f=c.type(),n=this._barcode_finder_by_instance.get(f);if(n===void 0)return;this._impl.barcode_finder_formats_set(n,c.barcodeFormat());break}case 5:{let f=c.type(),n=c.type(),g=this._pipeline_by_instance.get(n),W=this._impl.instant_world_tracker_create(g);this._instant_world_tracker_by_instance.set(f,W),this._pipeline_id_by_instant_world_tracker_id.set(f,n);break}case 15:{let f=c.type(),n=this._instant_world_tracker_by_instance.get(f);if(n===void 0)return;this._impl.instant_world_tracker_destroy(n),this._instant_world_tracker_by_instance.delete(f);break}case 6:{let f=c.type(),n=this._instant_world_tracker_by_instance.get(f);if(n===void 0)return;this._impl.instant_world_tracker_enabled_set(n,c.bool());break}case 7:{let f=c.type(),n=this._instant_world_tracker_by_instance.get(f);if(n===void 0)return;this._impl.instant_world_tracker_anchor_pose_set_from_camera_offset_raw(n,c.float(),c.float(),c.float(),c.instantTrackerTransformOrientation());break}}})}exploreState(){for(let[o,r]of this._pipeline_by_instance){let c=this._pipeline_id_by_pipeline_id.get(o);if(!c)continue;let f=this.serializersByPipelineId.get(c);f&&(f.sendMessage(7,n=>{n.type(o),n.int(this._impl.pipeline_frame_number(r))}),f.sendMessage(6,n=>{n.type(o),n.cameraModel(this._impl.pipeline_camera_model(r))}),f.sendMessage(5,n=>{n.type(o),n.int(this._impl.pipeline_camera_frame_user_data(r))}),f.sendMessage(11,n=>{n.type(o),n.matrix4x4(this._impl.pipeline_camera_frame_camera_attitude(r))}),f.sendMessage(12,n=>{n.type(o),n.matrix4x4(this._impl.pipeline_camera_frame_device_attitude(r))}))}for(let[o,r]of this._camera_source_by_instance){let c=this._pipeline_id_by_camera_source_id.get(o);!c||this.serializersByPipelineId.get(c)}for(let[o,r]of this._sequence_source_by_instance){let c=this._pipeline_id_by_sequence_source_id.get(o);!c||this.serializersByPipelineId.get(c)}for(let[o,r]of this._image_tracker_by_instance){let c=this._pipeline_id_by_image_tracker_id.get(o);if(!c)continue;let f=this.serializersByPipelineId.get(c);if(f){f.sendMessage(19,n=>{n.type(o),n.int(this._impl.image_tracker_target_loaded_version(r))}),f.sendMessage(1,n=>{n.type(o),n.int(this._impl.image_tracker_anchor_count(r))});for(let n=0;n<this._impl.image_tracker_anchor_count(r);n++)f.sendMessage(2,g=>{g.type(o),g.int(n),g.string(this._impl.image_tracker_anchor_id(r,n))});for(let n=0;n<this._impl.image_tracker_anchor_count(r);n++)f.sendMessage(3,g=>{g.type(o),g.int(n),g.matrix4x4(this._impl.image_tracker_anchor_pose_raw(r,n))})}}for(let[o,r]of this._face_tracker_by_instance){let c=this._pipeline_id_by_face_tracker_id.get(o);if(!c)continue;let f=this.serializersByPipelineId.get(c);if(f){f.sendMessage(18,n=>{n.type(o),n.int(this._impl.face_tracker_model_loaded_version(r))}),f.sendMessage(13,n=>{n.type(o),n.int(this._impl.face_tracker_anchor_count(r))});for(let n=0;n<this._impl.face_tracker_anchor_count(r);n++)f.sendMessage(14,g=>{g.type(o),g.int(n),g.string(this._impl.face_tracker_anchor_id(r,n))});for(let n=0;n<this._impl.face_tracker_anchor_count(r);n++)f.sendMessage(15,g=>{g.type(o),g.int(n),g.matrix4x4(this._impl.face_tracker_anchor_pose_raw(r,n))});for(let n=0;n<this._impl.face_tracker_anchor_count(r);n++)f.sendMessage(16,g=>{g.type(o),g.int(n),g.identityCoefficients(this._impl.face_tracker_anchor_identity_coefficients(r,n))});for(let n=0;n<this._impl.face_tracker_anchor_count(r);n++)f.sendMessage(17,g=>{g.type(o),g.int(n),g.expressionCoefficients(this._impl.face_tracker_anchor_expression_coefficients(r,n))})}}for(let[o,r]of this._face_mesh_by_instance){let c=this._pipeline_id_by_face_mesh_id.get(o);!c||this.serializersByPipelineId.get(c)}for(let[o,r]of this._face_landmark_by_instance){let c=this._pipeline_id_by_face_landmark_id.get(o);!c||this.serializersByPipelineId.get(c)}for(let[o,r]of this._barcode_finder_by_instance){let c=this._pipeline_id_by_barcode_finder_id.get(o);if(!c)continue;let f=this.serializersByPipelineId.get(c);if(f){f.sendMessage(8,n=>{n.type(o),n.int(this._impl.barcode_finder_found_number(r))});for(let n=0;n<this._impl.barcode_finder_found_number(r);n++)f.sendMessage(9,g=>{g.type(o),g.int(n),g.string(this._impl.barcode_finder_found_text(r,n))});for(let n=0;n<this._impl.barcode_finder_found_number(r);n++)f.sendMessage(10,g=>{g.type(o),g.int(n),g.barcodeFormat(this._impl.barcode_finder_found_format(r,n))})}}for(let[o,r]of this._instant_world_tracker_by_instance){let c=this._pipeline_id_by_instant_world_tracker_id.get(o);if(!c)continue;let f=this.serializersByPipelineId.get(c);f&&f.sendMessage(4,n=>{n.type(o),n.matrix4x4(this._impl.instant_world_tracker_anchor_pose_raw(r))})}}}class pi{constructor(){this._funcs=[]}bind(o){this._funcs.push(o)}unbind(o){let r=this._funcs.indexOf(o);r>-1&&this._funcs.splice(r,1)}emit(){for(var o=0,r=this._funcs.length;o<r;o++)this._funcs[o]()}}class di{constructor(){this._funcs=[]}bind(o){this._funcs.push(o)}unbind(o){let r=this._funcs.indexOf(o);r>-1&&this._funcs.splice(r,1)}emit(o){for(var r=0,c=this._funcs.length;r<c;r++)this._funcs[r](o)}}class hi{constructor(){this.onOutgoingMessage=new pi,this.onIncomingMessage=new di,this._outgoingMessages=[]}postIncomingMessage(o){this.onIncomingMessage.emit(o)}postOutgoingMessage(o,r){this._outgoingMessages.push({msg:o,transferables:r}),this.onOutgoingMessage.emit()}getOutgoingMessages(){let o=this._outgoingMessages;return this._outgoingMessages=[],o}}var yr=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var s=0,o=arguments.length;o--;)s+=arguments[o]*arguments[o];return Math.sqrt(s)});function tr(){var s=new yr(16);return yr!=Float32Array&&(s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[11]=0,s[12]=0,s[13]=0,s[14]=0),s[0]=1,s[5]=1,s[10]=1,s[15]=1,s}function mi(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function wi(s,o){return s[0]=o[0],s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=o[1],s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=o[2],s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}var vr;(function(s){s[s.UNKNOWN=131072]="UNKNOWN",s[s.AZTEC=1]="AZTEC",s[s.CODABAR=2]="CODABAR",s[s.CODE_39=4]="CODE_39",s[s.CODE_93=8]="CODE_93",s[s.CODE_128=16]="CODE_128",s[s.DATA_MATRIX=32]="DATA_MATRIX",s[s.EAN_8=64]="EAN_8",s[s.EAN_13=128]="EAN_13",s[s.ITF=256]="ITF",s[s.MAXICODE=512]="MAXICODE",s[s.PDF_417=1024]="PDF_417",s[s.QR_CODE=2048]="QR_CODE",s[s.RSS_14=4096]="RSS_14",s[s.RSS_EXPANDED=8192]="RSS_EXPANDED",s[s.UPC_A=16384]="UPC_A",s[s.UPC_E=32768]="UPC_E",s[s.UPC_EAN_EXTENSION=65536]="UPC_EAN_EXTENSION",s[s.ALL=131071]="ALL"})(vr||(vr={}));var Er;(function(s){s[s.EYE_LEFT=0]="EYE_LEFT",s[s.EYE_RIGHT=1]="EYE_RIGHT",s[s.EAR_LEFT=2]="EAR_LEFT",s[s.EAR_RIGHT=3]="EAR_RIGHT",s[s.NOSE_BRIDGE=4]="NOSE_BRIDGE",s[s.NOSE_TIP=5]="NOSE_TIP",s[s.NOSE_BASE=6]="NOSE_BASE",s[s.LIP_TOP=7]="LIP_TOP",s[s.LIP_BOTTOM=8]="LIP_BOTTOM",s[s.MOUTH_CENTER=9]="MOUTH_CENTER",s[s.CHIN=10]="CHIN",s[s.EYEBROW_LEFT=11]="EYEBROW_LEFT",s[s.EYEBROW_RIGHT=12]="EYEBROW_RIGHT"})(Er||(Er={}));var Ar;(function(s){s[s.WORLD=3]="WORLD",s[s.MINUS_Z_AWAY_FROM_USER=4]="MINUS_Z_AWAY_FROM_USER",s[s.MINUS_Z_HEADING=5]="MINUS_Z_HEADING",s[s.UNCHANGED=6]="UNCHANGED"})(Ar||(Ar={}));var Tr;(function(s){s[s.LOG_LEVEL_NONE=0]="LOG_LEVEL_NONE",s[s.LOG_LEVEL_ERROR=1]="LOG_LEVEL_ERROR",s[s.LOG_LEVEL_WARNING=2]="LOG_LEVEL_WARNING",s[s.LOG_LEVEL_VERBOSE=3]="LOG_LEVEL_VERBOSE"})(Tr||(Tr={}));var Pe;(function(s){s[s.FRAME_PIXEL_FORMAT_I420=0]="FRAME_PIXEL_FORMAT_I420",s[s.FRAME_PIXEL_FORMAT_I420A=1]="FRAME_PIXEL_FORMAT_I420A",s[s.FRAME_PIXEL_FORMAT_I422=2]="FRAME_PIXEL_FORMAT_I422",s[s.FRAME_PIXEL_FORMAT_I444=3]="FRAME_PIXEL_FORMAT_I444",s[s.FRAME_PIXEL_FORMAT_NV12=4]="FRAME_PIXEL_FORMAT_NV12",s[s.FRAME_PIXEL_FORMAT_RGBA=5]="FRAME_PIXEL_FORMAT_RGBA",s[s.FRAME_PIXEL_FORMAT_BGRA=6]="FRAME_PIXEL_FORMAT_BGRA",s[s.FRAME_PIXEL_FORMAT_Y=7]="FRAME_PIXEL_FORMAT_Y"})(Pe||(Pe={}));var xr;(function(s){s[s.IMAGE_TRACKER_TYPE_PLANAR=0]="IMAGE_TRACKER_TYPE_PLANAR",s[s.IMAGE_TRACKER_TYPE_CYLINDRICAL=1]="IMAGE_TRACKER_TYPE_CYLINDRICAL",s[s.IMAGE_TRACKER_TYPE_CONICAL=2]="IMAGE_TRACKER_TYPE_CONICAL"})(xr||(xr={}));const Rr=new Map;class rr{constructor(o){this._gl=o,this._viewports=[],this._underlyingViewport=this._gl.viewport,this._viewports.push(this._gl.getParameter(this._gl.VIEWPORT)),this._gl.viewport=(r,c,f,n)=>{this._viewports[this._viewports.length-1]=[r,c,f,n],this._underlyingViewport.call(this._gl,r,c,f,n)}}static get(o){let r=Rr.get(o);return r||(r=new rr(o),Rr.set(o,r)),r}push(){this._viewports.push(this._viewports[this._viewports.length-1])}pop(){const o=this._viewports.pop(),r=this._viewports[this._viewports.length-1];(!o||o[0]!==r[0]||o[1]!==r[1]||o[2]!==r[2]||o[3]!==r[3])&&this._underlyingViewport.call(this._gl,r[0],r[1],r[2],r[3])}}var mt={exports:{}},bi=mt.exports,kr;function gi(){return kr||(kr=1,function(s,o){(function(r,c){var f="1.0.33",n="",g="?",W="function",ne="undefined",K="object",re="string",we="major",w="model",T="name",y="type",E="vendor",x="version",ae="architecture",pe="console",B="mobile",D="tablet",ce="smarttv",be="wearable",te="embedded",se=350,Fe="Amazon",P="Apple",Te="ASUS",Be="BlackBerry",ee="Browser",J="Chrome",Me="Edge",q="Firefox",m="Google",U="Huawei",ke="LG",Ie="Microsoft",He="Motorola",ue="Opera",De="Samsung",Ye="Sharp",xe="Sony",Re="Xiaomi",it="Zebra",ze="Facebook",qe=function(C,X){var N={};for(var ie in C)X[ie]&&X[ie].length%2===0?N[ie]=X[ie].concat(C[ie]):N[ie]=C[ie];return N},Xe=function(C){for(var X={},N=0;N<C.length;N++)X[C[N].toUpperCase()]=C[N];return X},et=function(C,X){return typeof C===re?Q(X).indexOf(Q(C))!==-1:!1},Q=function(C){return C.toLowerCase()},Ce=function(C){return typeof C===re?C.replace(/[^\d\.]/g,n).split(".")[0]:c},tt=function(C,X){if(typeof C===re)return C=C.replace(/^\s\s*/,n),typeof X===ne?C:C.substring(0,se)},je=function(C,X){for(var N=0,ie,O,_e,$,Ne,fe;N<X.length&&!Ne;){var b=X[N],l=X[N+1];for(ie=O=0;ie<b.length&&!Ne;)if(Ne=b[ie++].exec(C),Ne)for(_e=0;_e<l.length;_e++)fe=Ne[++O],$=l[_e],typeof $===K&&$.length>0?$.length===2?typeof $[1]==W?this[$[0]]=$[1].call(this,fe):this[$[0]]=$[1]:$.length===3?typeof $[1]===W&&!($[1].exec&&$[1].test)?this[$[0]]=fe?$[1].call(this,fe,$[2]):c:this[$[0]]=fe?fe.replace($[1],$[2]):c:$.length===4&&(this[$[0]]=fe?$[3].call(this,fe.replace($[1],$[2])):c):this[$]=fe||c;N+=2}},V=function(C,X){for(var N in X)if(typeof X[N]===K&&X[N].length>0){for(var ie=0;ie<X[N].length;ie++)if(et(X[N][ie],C))return N===g?c:N}else if(et(X[N],C))return N===g?c:N;return C},oe={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Ze={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Ke={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[x,[T,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[x,[T,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[T,x],[/opios[\/ ]+([\w\.]+)/i],[x,[T,ue+" Mini"]],[/\bopr\/([\w\.]+)/i],[x,[T,ue]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[T,x],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[x,[T,"UC"+ee]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[x,[T,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[x,[T,"WeChat"]],[/konqueror\/([\w\.]+)/i],[x,[T,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[x,[T,"IE"]],[/yabrowser\/([\w\.]+)/i],[x,[T,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[T,/(.+)/,"$1 Secure "+ee],x],[/\bfocus\/([\w\.]+)/i],[x,[T,q+" Focus"]],[/\bopt\/([\w\.]+)/i],[x,[T,ue+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[x,[T,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[x,[T,"Dolphin"]],[/coast\/([\w\.]+)/i],[x,[T,ue+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[x,[T,"MIUI "+ee]],[/fxios\/([-\w\.]+)/i],[x,[T,q]],[/\bqihu|(qi?ho?o?|360)browser/i],[[T,"360 "+ee]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[T,/(.+)/,"$1 "+ee],x],[/(comodo_dragon)\/([\w\.]+)/i],[[T,/_/g," "],x],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[T,x],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[T],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[T,ze],x],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[T,x],[/\bgsa\/([\w\.]+) .*safari\//i],[x,[T,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[x,[T,J+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[T,J+" WebView"],x],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[x,[T,"Android "+ee]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[T,x],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[x,[T,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[x,T],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[T,[x,V,oe]],[/(webkit|khtml)\/([\w\.]+)/i],[T,x],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[T,"Netscape"],x],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[x,[T,q+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[T,x],[/(cobalt)\/([\w\.]+)/i],[T,[x,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[ae,"amd64"]],[/(ia32(?=;))/i],[[ae,Q]],[/((?:i[346]|x)86)[;\)]/i],[[ae,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[ae,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[ae,"armhf"]],[/windows (ce|mobile); ppc;/i],[[ae,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[ae,/ower/,n,Q]],[/(sun4\w)[;\)]/i],[[ae,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[ae,Q]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[w,[E,De],[y,D]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[w,[E,De],[y,B]],[/\((ip(?:hone|od)[\w ]*);/i],[w,[E,P],[y,B]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[w,[E,P],[y,D]],[/(macintosh);/i],[w,[E,P]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[w,[E,U],[y,D]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[w,[E,U],[y,B]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[w,/_/g," "],[E,Re],[y,B]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[w,/_/g," "],[E,Re],[y,D]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[w,[E,"OPPO"],[y,B]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[w,[E,"Vivo"],[y,B]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[w,[E,"Realme"],[y,B]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[w,[E,He],[y,B]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[w,[E,He],[y,D]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[w,[E,ke],[y,D]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[w,[E,ke],[y,B]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[w,[E,"Lenovo"],[y,D]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[w,/_/g," "],[E,"Nokia"],[y,B]],[/(pixel c)\b/i],[w,[E,m],[y,D]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[w,[E,m],[y,B]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[w,[E,xe],[y,B]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[w,"Xperia Tablet"],[E,xe],[y,D]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[w,[E,"OnePlus"],[y,B]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[w,[E,Fe],[y,D]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[w,/(.+)/g,"Fire Phone $1"],[E,Fe],[y,B]],[/(playbook);[-\w\),; ]+(rim)/i],[w,E,[y,D]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[w,[E,Be],[y,B]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[w,[E,Te],[y,D]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[w,[E,Te],[y,B]],[/(nexus 9)/i],[w,[E,"HTC"],[y,D]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[E,[w,/_/g," "],[y,B]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[w,[E,"Acer"],[y,D]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[w,[E,"Meizu"],[y,B]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[w,[E,Ye],[y,B]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[E,w,[y,B]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[E,w,[y,D]],[/(surface duo)/i],[w,[E,Ie],[y,D]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[w,[E,"Fairphone"],[y,B]],[/(u304aa)/i],[w,[E,"AT&T"],[y,B]],[/\bsie-(\w*)/i],[w,[E,"Siemens"],[y,B]],[/\b(rct\w+) b/i],[w,[E,"RCA"],[y,D]],[/\b(venue[\d ]{2,7}) b/i],[w,[E,"Dell"],[y,D]],[/\b(q(?:mv|ta)\w+) b/i],[w,[E,"Verizon"],[y,D]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[w,[E,"Barnes & Noble"],[y,D]],[/\b(tm\d{3}\w+) b/i],[w,[E,"NuVision"],[y,D]],[/\b(k88) b/i],[w,[E,"ZTE"],[y,D]],[/\b(nx\d{3}j) b/i],[w,[E,"ZTE"],[y,B]],[/\b(gen\d{3}) b.+49h/i],[w,[E,"Swiss"],[y,B]],[/\b(zur\d{3}) b/i],[w,[E,"Swiss"],[y,D]],[/\b((zeki)?tb.*\b) b/i],[w,[E,"Zeki"],[y,D]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[E,"Dragon Touch"],w,[y,D]],[/\b(ns-?\w{0,9}) b/i],[w,[E,"Insignia"],[y,D]],[/\b((nxa|next)-?\w{0,9}) b/i],[w,[E,"NextBook"],[y,D]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[E,"Voice"],w,[y,B]],[/\b(lvtel\-)?(v1[12]) b/i],[[E,"LvTel"],w,[y,B]],[/\b(ph-1) /i],[w,[E,"Essential"],[y,B]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[w,[E,"Envizen"],[y,D]],[/\b(trio[-\w\. ]+) b/i],[w,[E,"MachSpeed"],[y,D]],[/\btu_(1491) b/i],[w,[E,"Rotor"],[y,D]],[/(shield[\w ]+) b/i],[w,[E,"Nvidia"],[y,D]],[/(sprint) (\w+)/i],[E,w,[y,B]],[/(kin\.[onetw]{3})/i],[[w,/\./g," "],[E,Ie],[y,B]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[w,[E,it],[y,D]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[w,[E,it],[y,B]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[E,w,[y,pe]],[/droid.+; (shield) bui/i],[w,[E,"Nvidia"],[y,pe]],[/(playstation [345portablevi]+)/i],[w,[E,xe],[y,pe]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[w,[E,Ie],[y,pe]],[/smart-tv.+(samsung)/i],[E,[y,ce]],[/hbbtv.+maple;(\d+)/i],[[w,/^/,"SmartTV"],[E,De],[y,ce]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[E,ke],[y,ce]],[/(apple) ?tv/i],[E,[w,P+" TV"],[y,ce]],[/crkey/i],[[w,J+"cast"],[E,m],[y,ce]],[/droid.+aft(\w)( bui|\))/i],[w,[E,Fe],[y,ce]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[w,[E,Ye],[y,ce]],[/(bravia[\w ]+)( bui|\))/i],[w,[E,xe],[y,ce]],[/(mitv-\w{5}) bui/i],[w,[E,Re],[y,ce]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[E,tt],[w,tt],[y,ce]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[y,ce]],[/((pebble))app/i],[E,w,[y,be]],[/droid.+; (glass) \d/i],[w,[E,m],[y,be]],[/droid.+; (wt63?0{2,3})\)/i],[w,[E,it],[y,be]],[/(quest( 2)?)/i],[w,[E,ze],[y,be]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[E,[y,te]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[w,[y,B]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[w,[y,D]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[y,D]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[y,B]],[/(android[-\w\. ]{0,9});.+buil/i],[w,[E,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[x,[T,Me+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[x,[T,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[T,x],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[x,T]],os:[[/microsoft (windows) (vista|xp)/i],[T,x],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[T,[x,V,Ze]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[T,"Windows"],[x,V,Ze]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[x,/_/g,"."],[T,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[T,"Mac OS"],[x,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[x,T],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[T,x],[/\(bb(10);/i],[x,[T,Be]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[x,[T,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[x,[T,q+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[x,[T,"webOS"]],[/crkey\/([\d\.]+)/i],[x,[T,J+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[T,"Chromium OS"],x],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[T,x],[/(sunos) ?([\w\.\d]*)/i],[[T,"Solaris"],x],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[T,x]]},he=function(C,X){if(typeof C===K&&(X=C,C=c),!(this instanceof he))return new he(C,X).getResult();var N=C||(typeof r!==ne&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:n),ie=X?qe(Ke,X):Ke;return this.getBrowser=function(){var O={};return O[T]=c,O[x]=c,je.call(O,N,ie.browser),O.major=Ce(O.version),O},this.getCPU=function(){var O={};return O[ae]=c,je.call(O,N,ie.cpu),O},this.getDevice=function(){var O={};return O[E]=c,O[w]=c,O[y]=c,je.call(O,N,ie.device),O},this.getEngine=function(){var O={};return O[T]=c,O[x]=c,je.call(O,N,ie.engine),O},this.getOS=function(){var O={};return O[T]=c,O[x]=c,je.call(O,N,ie.os),O},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return N},this.setUA=function(O){return N=typeof O===re&&O.length>se?tt(O,se):O,this},this.setUA(N),this};he.VERSION=f,he.BROWSER=Xe([T,x,we]),he.CPU=Xe([ae]),he.DEVICE=Xe([w,E,y,pe,B,ce,D,be,te]),he.ENGINE=he.OS=Xe([T,x]),s.exports&&(o=s.exports=he),o.UAParser=he;var Ue=typeof r!==ne&&(r.jQuery||r.Zepto);if(Ue&&!Ue.ua){var Ve=new he;Ue.ua=Ve.getResult(),Ue.ua.get=function(){return Ve.getUA()},Ue.ua.set=function(C){Ve.setUA(C);var X=Ve.getResult();for(var N in X)Ue.ua[N]=X[N]}}})(typeof window=="object"?window:bi)}(mt,mt.exports)),mt.exports}var yi=gi(),zr;(function(s){s[s.OBJECT_URL=0]="OBJECT_URL",s[s.SRC_OBJECT=1]="SRC_OBJECT"})(zr||(zr={}));let Z={deviceMotionMutliplier:-1,blacklisted:!1,showGyroPermissionsWarningIfNecessary:!1,showSafariPermissionsResetIfNecessary:!1,requestHighFrameRate:!1,videoWidth:640,videoHeight:480,dataWidth:320,dataHeight:240,videoElementInDOM:!1,preferMediaStreamTrackProcessorCamera:!1,preferImageBitmapCamera:!1,ios164CameraSelection:!1,relyOnConstraintsForCameraSelection:!1,forceWindowOrientation:!1};typeof window<"u"&&(window.zeeProfile=Z,window.location.href.indexOf("_mstppipeline")>=0&&(console.log("Configuring for MSTP camera pipeline (if supported)"),Z.preferMediaStreamTrackProcessorCamera=!0),window.location.href.indexOf("_imagebitmappipeline")>=0&&(console.log("Configuring for ImageBitmap camera pipeline (if supported)"),Z.preferImageBitmapCamera=!0));let ir=new yi.UAParser,Lr=(ir.getOS().name||"unknown").toLowerCase(),Fr=(ir.getEngine().name||"unknown").toLowerCase();if(Fr==="webkit"&&Lr!=="ios"&&(Z.deviceMotionMutliplier=1,typeof window<"u"&&window.orientation!==void 0&&Mr("15.0")),Fr==="webkit"&&Lr==="ios"){Z.deviceMotionMutliplier=1;const s=ir.getOS().version||"15.0";Mr(s)}function Mr(s){Z.forceWindowOrientation=!0;let o=s.split(".");if(o.length>=2){const r=parseInt(o[0]),c=parseInt(o[1]);(r<11||r===11&&c<3)&&(Z.blacklisted=!0),(r<12||r===12&&c<2)&&(Z.videoElementInDOM=!0),(r===12&&c>=2||r>=13)&&(Z.showGyroPermissionsWarningIfNecessary=!0),r>=13&&(Z.showSafariPermissionsResetIfNecessary=!0),(r>=12&&c>1||r>=13)&&navigator.mediaDevices&&navigator.mediaDevices.getSupportedConstraints&&navigator.mediaDevices.getSupportedConstraints().frameRate&&(Z.requestHighFrameRate=!0,r<14&&(Z.videoHeight=360,Z.dataHeight=180)),r===16&&c>=4&&(Z.ios164CameraSelection=!0),r>=17&&(Z.relyOnConstraintsForCameraSelection=!0)}}function Ir(s,o,r){let c=s.createShader(o);if(!c)throw new Error("Unable to create shader");s.shaderSource(c,r),s.compileShader(c);let f=s.getShaderInfoLog(c);if(f&&f.trim().length>0)throw new Error("Shader compile error: "+f);return c}function vi(s,o){s.linkProgram(o);let r=s.getProgramInfoLog(o);if(r&&r.trim().length>0)throw new Error("Unable to link: "+r)}class Ei{constructor(o){this._gl=o,this._isPaused=!0,this._hadFrames=!1,this._isUserFacing=!1,this._cameraToScreenRotation=0,this._isUploadFrame=!0,this._computedTransformRotation=-1,this._computedFrontCameraRotation=!1,this._cameraUvTransform=tr(),this._framebufferWidth=0,this._framebufferHeight=0,this._framebufferId=null,this._renderTexture=null,this._isWebGL2=!1,this._isWebGL2=o.getParameter(o.VERSION).indexOf("WebGL 2")>=0,this._isWebGL2||(this._instancedArraysExtension=this._gl.getExtension("ANGLE_instanced_arrays"))}resetGLContext(){this._framebufferId=null,this._renderTexture=null,this._vertexBuffer=void 0,this._indexBuffer=void 0,this._greyscaleShader=void 0}destroy(){this.resetGLContext()}uploadFrame(o,r,c,f){let n=this._gl;const g=rr.get(n);g.push();const W=n.isEnabled(n.SCISSOR_TEST),ne=n.isEnabled(n.DEPTH_TEST),K=n.isEnabled(n.BLEND),re=n.isEnabled(n.CULL_FACE),we=n.isEnabled(n.STENCIL_TEST),w=n.getParameter(n.ACTIVE_TEXTURE),T=n.getParameter(n.UNPACK_FLIP_Y_WEBGL),y=n.getParameter(n.CURRENT_PROGRAM);n.activeTexture(n.TEXTURE0);const E=n.getParameter(n.TEXTURE_BINDING_2D),x=n.getParameter(n.FRAMEBUFFER_BINDING),ae=n.getParameter(n.ARRAY_BUFFER_BINDING),pe=n.getParameter(n.ELEMENT_ARRAY_BUFFER_BINDING);n.disable(n.SCISSOR_TEST),n.disable(n.DEPTH_TEST),n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.STENCIL_TEST),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1),n.bindTexture(n.TEXTURE_2D,o);const B=0,D=n.RGBA,ce=n.RGBA,be=n.UNSIGNED_BYTE;n.texImage2D(n.TEXTURE_2D,B,D,ce,be,r),typeof HTMLVideoElement<"u"&&r instanceof HTMLVideoElement?(r.videoWidth,r.videoHeight):(r.width,r.height),this._updateTransforms(c,f);let te=this._getFramebuffer(n,Z.dataWidth/4,Z.dataHeight),se=this._getVertexBuffer(n),Fe=this._getIndexBuffer(n),P=this._getGreyscaleShader(n);const Te=n.getVertexAttrib(P.aVertexPositionLoc,n.VERTEX_ATTRIB_ARRAY_SIZE),Be=n.getVertexAttrib(P.aVertexPositionLoc,n.VERTEX_ATTRIB_ARRAY_TYPE),ee=n.getVertexAttrib(P.aVertexPositionLoc,n.VERTEX_ATTRIB_ARRAY_NORMALIZED),J=n.getVertexAttrib(P.aVertexPositionLoc,n.VERTEX_ATTRIB_ARRAY_STRIDE),Me=n.getVertexAttribOffset(P.aVertexPositionLoc,n.VERTEX_ATTRIB_ARRAY_POINTER),q=n.getVertexAttrib(P.aVertexPositionLoc,n.VERTEX_ATTRIB_ARRAY_ENABLED),m=n.getVertexAttrib(P.aVertexPositionLoc,n.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING),U=n.getVertexAttrib(P.aTextureCoordLoc,n.VERTEX_ATTRIB_ARRAY_SIZE),ke=n.getVertexAttrib(P.aTextureCoordLoc,n.VERTEX_ATTRIB_ARRAY_TYPE),Ie=n.getVertexAttrib(P.aTextureCoordLoc,n.VERTEX_ATTRIB_ARRAY_NORMALIZED),He=n.getVertexAttrib(P.aTextureCoordLoc,n.VERTEX_ATTRIB_ARRAY_STRIDE),ue=n.getVertexAttribOffset(P.aTextureCoordLoc,n.VERTEX_ATTRIB_ARRAY_POINTER),De=n.getVertexAttrib(P.aTextureCoordLoc,n.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING),Ye=n.getVertexAttrib(P.aTextureCoordLoc,n.VERTEX_ATTRIB_ARRAY_ENABLED);let xe=0,Re=0;this._isWebGL2?(xe=n.getVertexAttrib(P.aVertexPositionLoc,n.VERTEX_ATTRIB_ARRAY_DIVISOR),Re=n.getVertexAttrib(P.aTextureCoordLoc,n.VERTEX_ATTRIB_ARRAY_DIVISOR),n.vertexAttribDivisor(P.aVertexPositionLoc,0),n.vertexAttribDivisor(P.aTextureCoordLoc,0)):this._instancedArraysExtension&&(xe=n.getVertexAttrib(P.aVertexPositionLoc,this._instancedArraysExtension.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE),Re=n.getVertexAttrib(P.aTextureCoordLoc,this._instancedArraysExtension.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE),this._instancedArraysExtension.vertexAttribDivisorANGLE(P.aVertexPositionLoc,0),this._instancedArraysExtension.vertexAttribDivisorANGLE(P.aTextureCoordLoc,0)),n.bindFramebuffer(n.FRAMEBUFFER,te),n.viewport(0,0,this._framebufferWidth,this._framebufferHeight),n.clear(n.COLOR_BUFFER_BIT),n.bindBuffer(n.ARRAY_BUFFER,se),n.vertexAttribPointer(P.aVertexPositionLoc,2,n.FLOAT,!1,4*4,0),n.enableVertexAttribArray(P.aVertexPositionLoc),n.vertexAttribPointer(P.aTextureCoordLoc,2,n.FLOAT,!1,4*4,2*4),n.enableVertexAttribArray(P.aTextureCoordLoc),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,Fe),n.useProgram(P.program),n.uniform1f(P.uTexWidthLoc,Z.dataWidth),n.uniformMatrix4fv(P.uUvTransformLoc,!1,this._cameraUvTransform),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,o),n.uniform1i(P.uSamplerLoc,0),n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0),n.bindBuffer(n.ARRAY_BUFFER,m),n.vertexAttribPointer(P.aVertexPositionLoc,Te,Be,ee,J,Me),n.bindBuffer(n.ARRAY_BUFFER,De),n.vertexAttribPointer(P.aTextureCoordLoc,U,ke,Ie,He,ue),n.bindBuffer(n.ARRAY_BUFFER,ae),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,pe),q||n.disableVertexAttribArray(P.aVertexPositionLoc),Ye||n.disableVertexAttribArray(P.aTextureCoordLoc),this._isWebGL2?(n.vertexAttribDivisor(P.aVertexPositionLoc,xe),n.vertexAttribDivisor(P.aTextureCoordLoc,Re)):this._instancedArraysExtension&&(this._instancedArraysExtension.vertexAttribDivisorANGLE(P.aVertexPositionLoc,xe),this._instancedArraysExtension.vertexAttribDivisorANGLE(P.aTextureCoordLoc,Re)),n.bindFramebuffer(n.FRAMEBUFFER,x),n.useProgram(y),n.bindTexture(n.TEXTURE_2D,E),n.activeTexture(w),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,T),g.pop(),K&&n.enable(n.BLEND),re&&n.enable(n.CULL_FACE),ne&&n.enable(n.DEPTH_TEST),W&&n.enable(n.SCISSOR_TEST),we&&n.enable(n.STENCIL_TEST)}readFrame(o,r){let c=this._gl,f=new Uint8Array(r);const n=c.getParameter(c.FRAMEBUFFER_BINDING);let g=this._getFramebuffer(c,Z.dataWidth/4,Z.dataHeight);return c.bindFramebuffer(c.FRAMEBUFFER,g),c.readPixels(0,0,this._framebufferWidth,this._framebufferHeight,c.RGBA,c.UNSIGNED_BYTE,f),c.bindFramebuffer(c.FRAMEBUFFER,n),{uvTransform:this._cameraUvTransform,data:r,texture:o,dataWidth:Z.dataWidth,dataHeight:Z.dataHeight,userFacing:this._computedFrontCameraRotation}}_updateTransforms(o,r){o==this._computedTransformRotation&&r==this._computedFrontCameraRotation||(this._computedTransformRotation=o,this._computedFrontCameraRotation=r,this._cameraUvTransform=this._getCameraUvTransform())}_getCameraUvTransform(){switch(this._computedTransformRotation){case 270:return new Float32Array([0,1,0,0,-1,0,0,0,0,0,1,0,1,0,0,1]);case 180:return new Float32Array([-1,0,0,0,0,-1,0,0,0,0,1,0,1,1,0,1]);case 90:return new Float32Array([0,-1,0,0,1,0,0,0,0,0,1,0,0,1,0,1])}return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}_getFramebuffer(o,r,c){if(this._framebufferWidth===r&&this._framebufferHeight===c&&this._framebufferId)return this._framebufferId;if(this._framebufferId&&(o.deleteFramebuffer(this._framebufferId),this._framebufferId=null),this._renderTexture&&(o.deleteTexture(this._renderTexture),this._renderTexture=null),this._framebufferId=o.createFramebuffer(),!this._framebufferId)throw new Error("Unable to create framebuffer");if(o.bindFramebuffer(o.FRAMEBUFFER,this._framebufferId),this._renderTexture=o.createTexture(),!this._renderTexture)throw new Error("Unable to create render texture");o.activeTexture(o.TEXTURE0);const f=o.getParameter(o.TEXTURE_BINDING_2D);o.bindTexture(o.TEXTURE_2D,this._renderTexture),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,r,c,0,o.RGBA,o.UNSIGNED_BYTE,null),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameterf(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,this._renderTexture,0);let n=o.checkFramebufferStatus(o.FRAMEBUFFER);if(n!==o.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer not complete: "+n.toString());return this._framebufferWidth=r,this._framebufferHeight=c,o.bindTexture(o.TEXTURE_2D,f),o.bindFramebuffer(o.FRAMEBUFFER,null),this._framebufferId}_getVertexBuffer(o){if(this._vertexBuffer)return this._vertexBuffer;if(this._vertexBuffer=o.createBuffer(),!this._vertexBuffer)throw new Error("Unable to create vertex buffer");o.bindBuffer(o.ARRAY_BUFFER,this._vertexBuffer);let r=new Float32Array([-1,-1,0,0,-1,1,0,1,1,1,1,1,1,-1,1,0]);return o.bufferData(o.ARRAY_BUFFER,r,o.STATIC_DRAW),this._vertexBuffer}_getIndexBuffer(o){if(this._indexBuffer)return this._indexBuffer;if(this._indexBuffer=o.createBuffer(),!this._indexBuffer)throw new Error("Unable to create index buffer");o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,this._indexBuffer);let r=new Uint16Array([0,1,2,0,2,3]);return o.bufferData(o.ELEMENT_ARRAY_BUFFER,r,o.STATIC_DRAW),this._indexBuffer}_getGreyscaleShader(o){if(this._greyscaleShader)return this._greyscaleShader;let r=o.createProgram();if(!r)throw new Error("Unable to create program");let c=Ir(o,o.VERTEX_SHADER,Ai),f=Ir(o,o.FRAGMENT_SHADER,Ti);o.attachShader(r,c),o.attachShader(r,f),vi(o,r);let n=o.getUniformLocation(r,"uTexWidth");if(!n)throw new Error("Unable to get uniform location uTexWidth");let g=o.getUniformLocation(r,"uUvTransform");if(!g)throw new Error("Unable to get uniform location uUvTransform");let W=o.getUniformLocation(r,"uSampler");if(!W)throw new Error("Unable to get uniform location uSampler");return this._greyscaleShader={program:r,aVertexPositionLoc:o.getAttribLocation(r,"aVertexPosition"),aTextureCoordLoc:o.getAttribLocation(r,"aTextureCoord"),uTexWidthLoc:n,uUvTransformLoc:g,uSamplerLoc:W},this._greyscaleShader}}let Ai=`
    attribute vec4 aVertexPosition;
    attribute vec2 aTextureCoord;

    varying highp vec2 vTextureCoord1;
    varying highp vec2 vTextureCoord2;
    varying highp vec2 vTextureCoord3;
    varying highp vec2 vTextureCoord4;

    uniform float uTexWidth;
	uniform mat4 uUvTransform;

    void main(void) {
      highp vec2 offset1 = vec2(1.5 / uTexWidth, 0);
      highp vec2 offset2 = vec2(0.5 / uTexWidth, 0);

      gl_Position = aVertexPosition;
      vTextureCoord1 = (uUvTransform * vec4(aTextureCoord - offset1, 0, 1)).xy;
      vTextureCoord2 = (uUvTransform * vec4(aTextureCoord - offset2, 0, 1)).xy;
      vTextureCoord3 = (uUvTransform * vec4(aTextureCoord + offset2, 0, 1)).xy;
      vTextureCoord4 = (uUvTransform * vec4(aTextureCoord + offset1, 0, 1)).xy;
    }
`,Ti=`
  varying highp vec2 vTextureCoord1;
  varying highp vec2 vTextureCoord2;
  varying highp vec2 vTextureCoord3;
  varying highp vec2 vTextureCoord4;

  uniform sampler2D uSampler;

  const lowp vec3 colorWeights = vec3(77.0 / 256.0, 150.0 / 256.0, 29.0 / 256.0);

  void main(void) {
    lowp vec4 outpx;

    outpx.r = dot(colorWeights, texture2D(uSampler, vTextureCoord1).xyz);
    outpx.g = dot(colorWeights, texture2D(uSampler, vTextureCoord2).xyz);
    outpx.b = dot(colorWeights, texture2D(uSampler, vTextureCoord3).xyz);
    outpx.a = dot(colorWeights, texture2D(uSampler, vTextureCoord4).xyz);

    gl_FragColor = outpx;
  }
`,wt,ut,nr,bt;function xi(){if(!nr||!bt){if(bt=new OffscreenCanvas(1,1).getContext("webgl"),!bt)throw new Error("Unable to get offscreen GL context");nr=new Ei(bt)}return[nr,bt]}function Ri(s,o,r,c){const[f,n]=xi();if(ut||(ut=n.createTexture(),n.bindTexture(n.TEXTURE_2D,ut),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR)),!ut)return;(!wt||wt.byteLength<Z.dataWidth*Z.dataHeight)&&(console.log("Generating pixel buffer",Z.dataWidth*Z.dataHeight),wt=new ArrayBuffer(Z.dataWidth*Z.dataHeight)),f.uploadFrame(ut,s.i,s.r,s.userFacing);let g=f.readFrame(ut,wt),W={t:"imageBitmapS2C",dataWidth:g.dataWidth,dataHeight:g.dataHeight,frame:s.i,userFacing:g.userFacing,uvTransform:g.uvTransform||tr(),tokenId:s.tokenId,p:s.p};c.postOutgoingMessage(W,[s.i]);let ne=r._pipeline_by_instance.get(s.p);ne&&(o.pipeline_camera_frame_submit(ne,wt,g.dataWidth,g.dataHeight,s.tokenId,s.cameraToDevice,s.cameraModel,g.userFacing),o.pipeline_frame_update(ne),r.exploreState())}var Or=function(s,o,r,c){function f(n){return n instanceof r?n:new r(function(g){g(n)})}return new(r||(r=Promise))(function(n,g){function W(re){try{K(c.next(re))}catch(we){g(we)}}function ne(re){try{K(c.throw(re))}catch(we){g(we)}}function K(re){re.done?n(re.value):f(re.value).then(W,ne)}K((c=c.apply(s,o||[])).next())})};let Se=new hi,ar=0;function ki(s){return Or(this,void 0,void 0,function*(){let o=_i({locateFile:(r,c)=>r.endsWith("zappar-cv.wasm")?s:c+r,onRuntimeInitialized:()=>{let r=ci(o),c=new li(r,(f,n)=>{Se.postOutgoingMessage({p:f,t:"zappar",d:n},[n])});Se.postOutgoingMessage("loaded",[]),Se.onIncomingMessage.bind(f=>{var n;switch(f.t){case"zappar":c.processBuffer(f.d),Se.postOutgoingMessage({t:"buf",d:f.d},[f.d]);break;case"buf":(n=c.serializersByPipelineId.get(f.p))===null||n===void 0||n.bufferReturn(f.d);break;case"cameraFrameC2S":{let g=f,W=c._pipeline_by_instance.get(g.p),ne;W&&(r.pipeline_camera_frame_submit(W,g.d,g.width,g.height,g.token,g.c2d,g.cm,g.userFacing),r.pipeline_frame_update(W),ne=r.pipeline_camera_frame_device_attitude(W),c.exploreState());let K={token:g.token,d:g.d,p:g.p,t:"cameraFrameRecycleS2C",att:ne};Se.postOutgoingMessage(K,[g.d]);break}case"streamC2S":{let g=f;zi(o,r,g.s,g.p,g.userFacing,c,g.source);break}case"cameraToScreenC2S":{ar=f.r;break}case"imageBitmapC2S":{Ri(f,r,c,Se);break}}})}})})}let ft=0,sr=0,Pr=1;const Pt=tr(),lt=new Float32Array([300,300,160,120,0,0]);function zi(s,o,r,c,f,n,g){return Or(this,void 0,void 0,function*(){const W=yield r.getReader();for(;;){let ne=yield W.read();if(ne.done){console.log("Stream done");return}let K=ne.value,re=K.allocationSize();re>sr&&(ft>0&&s._free(ft),ft=s._malloc(re),sr=re),yield K.copyTo(s.HEAPU8.subarray(ft,ft+sr));let we=Pr;Pr++;const w=K.visibleRect.width,T=K.visibleRect.height;let y,E=w,x=T;switch(ar){case 270:y=new Float32Array([0,1,0,0,-1,0,0,0,0,0,1,0,1,0,0,1]),E=T,x=w;break;case 180:y=new Float32Array([-1,0,0,0,0,-1,0,0,0,0,1,0,1,1,0,1]);break;case 90:y=new Float32Array([0,-1,0,0,1,0,0,0,0,0,1,0,0,1,0,1]),E=T,x=w;break;default:y=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);break}let ae=K.clone();f?wi(Pt,[-1,1,-1]):mi(Pt);let pe=300*Z.dataWidth/320;lt[0]=pe,lt[1]=pe,lt[2]=Z.dataWidth*.5,lt[3]=Z.dataHeight*.5;const B={token:we,d:ae,p:c,t:"videoFrameS2C",userFacing:f,uvTransform:y,w:E,h:x,cameraToDevice:Pt,cameraModel:lt,source:g};Se.postOutgoingMessage(B,[B.d,B.uvTransform.buffer]);const D=n._pipeline_by_instance.get(c);D&&(o.pipeline_camera_frame_submit_raw_pointer(D,ft,re,Li(K.format),w,T,we,Pt,ar,lt,f),o.pipeline_frame_update(D),n.exploreState()),K.close()}})}function Li(s){switch(s){case"I420":return Pe.FRAME_PIXEL_FORMAT_I420;case"I420A":return Pe.FRAME_PIXEL_FORMAT_I420A;case"I422":return Pe.FRAME_PIXEL_FORMAT_I422;case"I444":return Pe.FRAME_PIXEL_FORMAT_I444;case"NV12":return Pe.FRAME_PIXEL_FORMAT_NV12;case"RGBA":case"RGBX":return Pe.FRAME_PIXEL_FORMAT_RGBA;case"BGRA":case"BGRX":return Pe.FRAME_PIXEL_FORMAT_BGRA}return Pe.FRAME_PIXEL_FORMAT_Y}const St=self;Se.onOutgoingMessage.bind(()=>{let s=Se.getOutgoingMessages();for(let o of s)St.postMessage(o.msg,o.transferables)});let Sr=s=>{if(s&&s.data&&s.data.t==="wasm"){let o=location.href.startsWith("blob")?s.data.url:new URL("/unity-ar/assets/zappar-cv-BCv-gc5z.wasm",self.location.href).toString();ki(o),St.removeEventListener("message",Sr)}};St.addEventListener("message",Sr),St.addEventListener("message",s=>{Se.postIncomingMessage(s.data)})})();
